date: '2021-09-09'
release_candidate: true
deprecated: true
intro: If {% data variables.product.product_location %} is running a release candidate build, you can't upgrade with a hotpatch. We recommend only running release candidates on test environments.
sections:
  features:
    - heading: Custom patterns for secret scanning
      notes:
        # https://github.com/github/releases/issues/1426
        - |
          {% data variables.product.prodname_GH_advanced_security %} customers can now specify custom patterns for secret scanning. When a new pattern is specified, secret scanning searches a repository's entire Git history for the pattern, as well as any new commits.

          User defined patterns are in beta for {% data variables.product.prodname_ghe_server %} 3.2. They can be defined at the repository, organization, and enterprise levels. For more information, see "[Defining custom patterns for secret scanning](/code-security/secret-scanning/defining-custom-patterns-for-secret-scanning)."

    - heading: Security overview for Advanced Security (beta)
      notes:
        # https://github.com/github/releases/issues/1381
        - |
          {% data variables.product.prodname_GH_advanced_security %} customers now have an organization-level view of the application security risks detected by {% data variables.product.prodname_code_scanning %}, {% data variables.product.prodname_dependabot %}, and {% data variables.product.prodname_secret_scanning %}. The security overview shows the enablement status of security features on each repository, as well as the number of alerts detected.

          In addition, the security overview lists all {% data variables.product.prodname_secret_scanning %} alerts at the organization level. Similar views for {% data variables.product.prodname_dependabot %} and {% data variables.product.prodname_code_scanning %} alerts are coming in future releases. For more information, see "[About the security overview](/code-security/security-overview/about-the-security-overview)."

          ![Screenshot of security overview](/assets/images/enterprise/3.2/release-notes/security-overview-UI.png)

    - heading: Dependency review (beta)
      notes:
        # https://github.com/github/releases/issues/1364
        - |
          {% data variables.product.prodname_GH_advanced_security %} customers can now see a rich diff of the dependencies changed in a pull request. Dependency review provides an easy-to-understand view of dependency changes and their security impact in the "Files changed" tab of pull requests. It informs you of which dependencies were added, removed, or updated, along with vulnerability information for these dependencies. For more information, see "[Reviewing dependency changes in a pull request](/github/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-dependency-changes-in-a-pull-request)."

    - heading: GitHub Actions environments
      notes:
        # https://github.com/github/releases/issues/1308
        - |
          Environments, environment protection rules, and environment secrets are now generally available for {% data variables.product.prodname_actions %} on {% data variables.product.product_name %}. For more information, see "[Environments](/actions/reference/environments)."

          ![Environment protection rules](/assets/images/enterprise/3.2/release-notes/actions-environments.png)

    - heading: SSH authentication with security keys
      notes:
        # https://github.com/github/releases/issues/1276
        - |
          SSH authentication using a FIDO2 security key is now supported when you add a `sk-ecdsa-sha2-nistp256@openssh.com` or `sk-ssh-ed25519@openssh.com` SSH key to your account. SSH security keys store secret key material on a separate hardware device that requires verification, such as a tap, to operate. For more information, see "[Generating a new SSH key and adding it to the ssh-agent](/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#generating-a-new-ssh-key-for-a-hardware-security-key)."

    - heading: 'Dark and dark dimmed themes'
      notes:
        # https://github.com/github/releases/issues/1260
        - |
          Dark and dark dimmed themes are now available for the web UI. {% data variables.product.product_name %} will match your system preferences when you haven't set theme preferences in {% data variables.product.product_name %}. You can also choose which themes are active during the day and night. For more information, see "[Managing your theme settings](/github/setting-up-and-managing-your-github-user-account/managing-user-account-settings/managing-your-theme-settings)."

          ![Dark and dark dimmed themes](https://user-images.githubusercontent.com/33528647/114629560-d2231f80-9c86-11eb-9bde-cc301a97040d.gif)

    - heading: 'Approving unverified domains for email notifications'
      notes:
        # https://github.com/github/releases/issues/1244
        - Domains that are not able to be verified can now be approved for email notification routing. Enterprise and organization owners will be able to approve domains and immediately augment their email notification restriction policy, allowing notifications to be sent to collaborators, consultants, acquisitions, or other partners. For more information, see "[Verifying or approving a domain for your enterprise](/admin/configuration/configuring-your-enterprise/verifying-or-approving-a-domain-for-your-enterprise#about-approval-of-domains)" and "[Restricting email notifications for your enterprise](/admin/policies/enforcing-policies-for-your-enterprise/restricting-email-notifications-for-your-enterprise#restricting-email-notifications-for-your-enterprise-account)."

    - heading: 'Git Credential Manager (GCM) secure credential storage and multi-factor authentication support'
      notes:
        # https://github.com/github/releases/issues/1406
        - |
          Git Credential Manager (GCM) versions 2.0.452 and later now provide security-hardened credential storage and multi-factor authentication support for {% data variables.product.product_name %}.

          GCM with support for {% data variables.product.product_name %} is included with [Git for Windows](https://gitforwindows.org) versions 2.32 and later. GCM is not included with Git for macOS or Linux, but can be installed separately. For more information, see the [latest release](https://github.com/GitCredentialManager/git-credential-manager/releases/) and [installation instructions](https://github.com/GitCredentialManager/git-credential-manager/releases/) in the `GitCredentialManager/git-credential-manager` repository.

  changes:
    - heading: Administration Changes
      notes:
        # https://github.com/github/releases/issues/1309
        - A 'User Agent Referrer Policy' setting has been added to the enterprise settings. This allows an admin to set a stricter `Referrer-Policy` to hide the hostname of a {% data variables.product.prodname_ghe_server %} installation from external sites. The setting is disabled by default and is tracked by audit log events for staff and enterprise owners when enabled or disabled. For more information, see "[Configuring Referrer Policy for your enterprise](/admin/configuration/configuring-your-enterprise/configuring-the-referrer-policy-for-your-enterprise)."

        # https://github.com/github/releases/issues/1515
        - The MySQL health check was changed to use `mysqladmin ping` instead of TCP checks, which removes some unnecessary noise in the MySQL error log. Also, Orchestrator failover checks were improved to prevent unnecessary MySQL failovers when applying cluster config changes.

        # https://github.com/github/releases/issues/1287
        - The Resque service, which supports background job processing, has been replaced with Aqueduct Lite. This change makes the job system easier to manage and should not affect the user experience. For the new administration and debugging commands for Aqueduct, see "[Command-line utilities](/admin/configuration/configuring-your-enterprise/command-line-utilities#ghe-aqueduct)."

    - heading: Token Changes
      notes:
        # https://github.com/github/releases/issues/1235
        - |
          The format of authentication tokens for {% data variables.product.product_name %} has changed. The change affects the format of personal access tokens and access tokens for {% data variables.product.prodname_oauth_apps %}, as well as user-to-server, server-to-server, and refresh tokens for {% data variables.product.prodname_github_apps %}.

          The different token types now have unique identifiable prefixes, which allows for secret scanning to detect the tokens so that you can mitigate the impact of someone accidentally committing a token to a repository. {% data variables.product.company_short %} recommends updating existing tokens as soon as possible. For more information, see "[About authentication to {% data variables.product.prodname_dotcom %}](/github/authenticating-to-github/keeping-your-account-and-data-secure/about-authentication-to-github#githubs-token-formats)" and "[About {% data variables.product.prodname_secret_scanning %}](/code-security/secret-security/about-secret-scanning)."

    - heading: 'Repositories changes'
      notes:
        # https://github.com/github/releases/issues/1295
        - Repositories on user profiles and organization profiles now support sorting by star count.

        # https://github.com/github/releases/issues/1327
        - When viewing the commit history of a single file, you can now click {% octicon "file-code" aria-label="The code icon" %} to view that file at the selected point in history.

        # https://github.com/github/releases/issues/1254
        - When a submodule is defined with a relative path in {% data variables.product.product_location %}, the submodule is now clickable in the web UI. Clicking the submodule in the web UI will take you to the linked repository. Previously, only submodules with absolute URLs were clickable. This is supported for relative paths for repositories with the same owner that follow the pattern <code>../<em>REPOSITORY</em></code> or relative paths for repositories with a different owner that follow the pattern <code>../<em>OWNER</em>/<em>REPOSITORY</em></code>. For more information about working with submodules, see [Working with submodules](https://github.blog/2016-02-01-working-with-submodules/) on {% data variables.product.prodname_blog %}.

        # https://github.com/github/releases/issues/1250
        - The web UI can now be used to synchronize an out-of-date branch of a fork with the fork's upstream branch. If there are no merge conflicts between the branches, the branch is updated either by fast-forwarding or by merging from upstream. If there are conflicts, you will be prompted to create a pull request to resolve the conflicts. For more information, see "[Syncing a fork](/github/collaborating-with-pull-requests/working-with-forks/syncing-a-fork#syncing-a-fork-from-the-web-ui)."

    - heading: 'Markdown changes'
      notes:
        # https://github.com/github/releases/issues/1477
        - The markdown editor used when creating or editing a release in a repository now has a text-editing toolbar. For more information, see "[Managing releases in a repository](/github/administering-a-repository/releasing-projects-on-github/managing-releases-in-a-repository#creating-a-release)."

        # https://github.com/github/releases/issues/1169
        - Uploading video files is now supported everywhere you write Markdown on {% data variables.product.pro