date: '2021-07-14'
sections:
  security_fixes:
    - '**高:** GitHub Enterprise Server でパス走査の脆弱性が確認されました。これにより、GitHub Pages サイトのビルド時に悪用される可能性があります。GitHub Pages によって使用されるユーザー制御の構成オプションは十分に制限されておらず、GitHub Enterprise Server インスタンスでファイルを読み取ることが可能になっていました。この脆弱性を悪用するために、攻撃者は GitHub Enterprise Server インスタンス上に GitHub Pages サイトを作成してビルドするアクセス許可が必要です。この脆弱性により、3.1.3 より前の GitHub Enterprise Server のすべてのバージョンが影響を受け、CVE-2021-22867 が割り当てられました。この脆弱性は、GitHub Bug Bounty プログラムから報告されました。'
    - パッケージは最新のセキュリティ バージョンに更新されました。
  bugs:
    - SAML の有効期限の変数は構成できませんでした。
    - アプリケーション サービスは、正常性状態に入る前の構成適用時に、正常性チェックに失敗します。
    - '`ghe-cluster-config-node-init` は、HTTP プロキシが有効にされている場合、クラスターの設定時に失敗します。'
    - pre-receive フックで、`/proc` がコンテナーにマウントされていないために `現在の実行可能ファイルの完全なパスを解決できませんでした` というエラーが生じることがあります。
    - Collectd では、初回の起動後に転送先のホスト名を解決しません。
    - 古い削除されたリポジトリを消去するジョブは、それらのリポジトリの中に訴訟ホールドによって削除されないように保護されているものがある場合、処理を進められないことがあります。
    - バックグラウンド ジョブが、処理されていない `spam` キューに入れられました。
    - 失敗した PR マージ後に再試行する際に、優先されるマージ方法がリセットされます。
    - LDAP 認証モードを使うインスタンスで、Git push がユーザー照合プロセス中に 500 内部サーバー エラーになることがあります。
    - '3.0.x から 3.1.x へのアップグレード後に、GitHub Actions が `このワークフローの実行時に、予期しないエラーが発生しました。` というエラーで失敗することがあります。'
  changes:
    - 変更されなかった IP 許可ファイアウォール ルールをスキップすることによって、構成適用の効率性が改善されました。これは大規模なクラスターでは大きな時間の節約になります。
  known_issues:
    - "{% data variables.product.prodname_registry %} npm レジストリで、メタデータ応答で時刻値が返されなくなりました。これは、パフォーマンスの大幅な向上を可能にするために行われました。メタデータ応答の一部として時刻値を返すために必要なすべてのデータを保持し続け、既存のパフォーマンスの問題を解決したら、将来的にこの値を返すことを再開します。"
    - "{% data variables.product.prodname_ghe_server %} を設定したばかりでユーザーがいない場合、攻撃者が最初の管理ユーザーを作成できました。"
    - カスタムのファイアウォール規則は、アップグレード プロセス中に削除されます。
    - "[Web インターフェイスからアップロードされた](https://github.com/blog/2105-upload-files-to-your-repositories) Git LFS 追跡ファイルが誤ってリポジトリに直接追加されます。"
    - 同じリポジトリ内の BLOB への固定リンクが含まれ、その BLOB のファイル パスが 255 文字を超える場合、issue をクローズできません。
    - "GitHub Connect で \"ユーザーが GitHub.com を検索できる\" が有効にされている場合、プライベートおよび内部リポジトリの issue が GitHub.com の検索結果に含まれません。"
    - "{% data variables.product.prodname_ghe_server %} で {% data variables.product.prodname_actions %} が有効にされていると、`ghe-repl-teardown` でのレプリカ ノードの破棄は成功しますが、`ERROR:Running migrations` が返されることがあります。"
    - pre-receive フックの処理に固有のリソース制限により、一部の pre-receive フックが失敗する場合があります。
