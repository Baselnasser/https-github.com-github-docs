---
title: Рекомендации по защите кода в цепочке поставок
shortTitle: Securing code
allowTitleToDifferFromFilename: true
intro: 'Руководство по защите основного элемента цепочки поставок, то есть вашего кода и кода зависимостей.'
versions:
  fpt: '*'
  ghec: '*'
  ghes: '*'
  ghae: '*'
type: overview
topics:
  - Dependabot
  - Security updates
  - Vulnerabilities
  - Advanced Security
  - Secret scanning
ms.openlocfilehash: 9fa10b05cfeadb4e2cde37829e703fc527571c67
ms.sourcegitcommit: 7a74d5796695bb21c30e4031679253cbc16ceaea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2022
ms.locfileid: '148184007'
---
## Об этом руководстве

В этом руководстве описываются самые важные изменения, которые можно внести для улучшения защиты вашего кода. В каждом разделе описаны изменения, которые можно внести в процессы для повышения безопасности. Сначала указаны изменения с самым высоким влиянием.

## В чем заключаются риски?

Приведем некоторые ключевые риски в процессе развертывания.

- Использование зависимостей с уязвимостями системы безопасности, которыми может воспользоваться злоумышленник.
- Утечка учетных данных или маркера проверки подлинности, которыми может воспользоваться злоумышленник для доступа к ресурсам.
- Внесение уязвимости в собственный код, который злоумышленник может использовать.

Эти риски открывают возможности для атаки на ваши ресурсы и проекты. Кроме того, эти риски напрямую передаются всем, кто использует созданный вами пакет. В следующих разделах объясняется, как защитить себя и пользователей от этих рисков.

## Создание программы управление уязвимостями для зависимостей

Вы можете защитить код, от которого зависите, создав программу управления уязвимостями для зависимостей. На высоком уровне она должна включать процессы, позволяющие убедиться, что вы:

1. создали инвентаризацию зависимостей;

1. знаете, когда в зависимости присутствует уязвимость системы безопасности;
{% ifversion fpt or ghec or ghes > 3.5 or ghae > 3.5 %}
1. Применение проверок зависимостей в запросах на вытягивание. {% endif %}

1. оценили влияние этой уязвимости на код и приняли решение, какие действия следует предпринять.

### Автоматическое создание инвентаризации

В качестве первого шага необходимо выполнить полную инвентаризацию зависимостей. Граф зависимостей для репозитория показывает зависимости для поддерживаемых экосистем. Если вы синхронизируете свои зависимости или используете другие экосистемы, вам нужно будет дополнить его данными из сторонних инструментов или перечислить зависимости вручную. Дополнительные сведения см. в разделе [Сведения о графе зависимостей](/code-security/supply-chain-security/understanding-your-software-supply-chain/about-the-dependency-graph).

### Автоматическое обнаружение уязвимостей в зависимостях

{% data variables.product.prodname_dependabot %} помогает отслеживать зависимости и уведомляет вас об обнаружении в них известной уязвимости. {% ifversion fpt or ghec or ghes %} Вы даже можете включить {% data variables.product.prodname_dependabot %} для автоматического создания запросов на вытягивание, которые обновляют зависимость до безопасной версии. {% endif %} Дополнительные сведения см. в разделах [Сведения о {% data variables.product.prodname_dependabot_alerts %}](/code-security/dependabot/dependabot-alerts/about-dependabot-alerts){% ifversion fpt or ghec or ghes %} и [Об обновлениях системы безопасности Dependabot](/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates){% endif %}.
{% ifversion fpt or ghec or ghes > 3.5 or ghae > 3.5 %}
### Автоматическое обнаружение уязвимостей в запросах на вытягивание

{% data variables.product.prodname_dependency_review_action %} обеспечивает проверку зависимостей в запросах на вытягивание, что позволяет легко определить, будет ли запрос на вытягивание представлять уязвимую версию зависимости в репозитории. При обнаружении уязвимости {% data variables.product.prodname_dependency_review_action %} может заблокировать слияние запроса на вытягивание. Дополнительные сведения см. в разделе Применение [проверки зависимостей](/code-security/supply-chain-security/understanding-your-software-supply-chain/about-dependency-review#dependency-review-enforcement). {% endif %} 
    

### Оценка подверженности риску от уязвимой зависимости

Обнаружив использование уязвимой зависимости, например, библиотеки или платформы, вы должны оценить уровень подверженности риску вашего проекта и определить, какие действия следует предпринять. Сообщения об уязвимостях обычно содержат оценку серьезности уязвимости, показывающую уровень ее влияния. Оценка серьезности — полезный ориентир, но она не может показать полное влияние уязвимости на код.

Чтобы оценить влияние уязвимости на код, необходимо также изучить, как вы используете библиотеку, и определить, насколько серьезному риску эта уязвимость подвергает вашу систему. Возможно, уязвимость является частью функции, которую вы не используете, так что можно просто обновить затронутую библиотеку и продолжить обычный цикл выпуска. Или, возможно, ваш код мало подвержен риску, и вам нужно просто обновить затронутую библиотеку и сразу отправить обновленную сборку. Это решение зависит от того, как вы используете библиотеку в вашей системе, и его должны принимать только вы.

## Защита маркеров взаимодействия

Код часто должен взаимодействовать с другими системами по сети, поэтому необходимо использовать секреты (такие как пароль или ключ API) для проверки подлинности. Чтобы ваша система могла работать, ей нужен доступ к этим секретам, но рекомендуется не включать их в исходный код. Это особенно важно для репозиториев, к которым могут иметь доступ многие пользователи{% ifversion not ghae %} и критически важно для общедоступных репозиториев{% endif %}.

### Автоматическое обнаружение секретов, зафиксированных в репозитории

{% note %}

**Примечание.** {% data reusables.gated-features.secret-scanning-partner %}

{% endnote %}

{% data reusables.secret-scanning.enterprise-enable-secret-scanning %}

{% ifversion fpt or ghec %} {% data variables.product.prodname_dotcom %} сотрудничает со многими поставщиками, чтобы автоматически определять, когда секреты фиксируются или сохраняются в ваших общедоступных репозиториях, и уведомляет поставщика, чтобы он мог предпринять соответствующие действия для обеспечения безопасности вашей учетной записи. Дополнительные сведения см. в разделе [Сведения о {% data variables.product.prodname_secret_scanning %} для шаблонов партнеров](/code-security/secret-scanning/about-secret-scanning#about-secret-scanning-for-partner-patterns).
{% endif %}

{% ifversion fpt %} {% data reusables.secret-scanning.fpt-GHAS-scans %} {% elsif ghec %} Если ваша организация использует {% data variables.product.prodname_GH_advanced_security %}, вы можете включить {% data variables.product.prodname_secret_scanning_GHAS %} в любом репозитории, принадлежащем этой организации. Вы также можете определить пользовательские шаблоны для обнаружения дополнительных секретов на уровне репозитория, организации или предприятия. Дополнительные сведения см. в разделе [Сведения о {% data variables.product.prodname_secret_scanning_GHAS %}](/code-security/secret-scanning/about-secret-scanning#about-secret-scanning-for-advacned-security).
{% else %} Вы можете настроить {% data variables.product.prodname_secret_scanning %} для проверки секретов, выданных многими поставщиками услуг, и уведомления вас об обнаружении. Вы также можете определить пользовательские шаблоны для обнаружения дополнительных секретов на уровне репозитория, организации или предприятия. Дополнительные сведения см. в разделах [Сведения о сканировании секретов](/code-security/secret-scanning/about-secret-scanning) и [Шаблоны сканирования секретов](/code-security/secret-scanning/secret-scanning-patterns).
{% endif %}

### Безопасное хранение секретов, используемых в {% data variables.product.product_name %}

{% ifversion fpt or ghec %} Помимо кода, вам, вероятно, потребуется использовать секреты и в других местах. Например, чтобы разрешить рабочим процессам {% data variables.product.prodname_actions %}, {% data variables.product.prodname_dependabot %} или среде разработки {% data variables.product.prodname_github_codespaces %} взаимодействовать с другими системами. Дополнительные сведения о безопасном хранении и использовании секретов см. в разделах [Зашифрованные секреты в Actions](/actions/security-guides/encrypted-secrets), [Управление зашифрованными секретами для Dependabot](/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-encrypted-secrets-for-dependabot) и [Управление зашифрованными секретами для ваших кодовых пространств codespace](/codespaces/managing-your-codespaces/managing-encrypted-secrets-for-your-codespaces).
{% endif %}

{% ifversion ghes or ghae %} Помимо кода, вам, вероятно, потребуется использовать секреты в других местах. Например, чтобы разрешить рабочим процессам {% data variables.product.prodname_actions %}{% ifversion ghes %} или {% data variables.product.prodname_dependabot %}{% endif %} взаимодействовать с другими системами. Дополнительные сведения о безопасном хранении и использовании секретов см. в статьях [Зашифрованные секреты в Actions](/actions/security-guides/encrypted-secrets){% ifversion ghes %} и [Управление зашифрованными секретами для Dependabot](/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-encrypted-secrets-for-dependabot).{% else %}."{% endif %} {% endif %}

## Хранение уязвимых шаблонов кода вне вашего репозитория

{% note %}

**Примечание.** {% data reusables.gated-features.code-scanning %}

{% endnote %}

{% data reusables.code-scanning.enterprise-enable-code-scanning %}

### Создание процесса проверки запроса на вытягивание

Вы можете повысить качество и безопасность кода, обеспечив проверку и тестирование всех запросов на вытягивание перед их слиянием. В {% data variables.product.prodname_dotcom %} имеется множество функций, которые можно использовать для управления процессом проверки и слияния. Чтобы приступить к работе, ознакомьтесь с разделом [Сведения о защищенных ветвях](/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/about-protected-branches).

### Сканирование кода на наличие уязвимых шаблонов

Рецензентам часто бывает трудно обнаружить небезопасные шаблоны кода без посторонней помощи. Помимо сканирования кода на наличие секретов, вы также можете проверить его на наличие шаблонов, связанных с уязвимостями системы безопасности. Например, таких, как функция, которая не является безопасной для памяти, или неспособность экранировать введенные пользователем данные, что может привести к уязвимости к внедрению вредоносных программ. {% data variables.product.prodname_dotcom %} предлагает несколько разных подходов к тому, как и когда вы сканируете свой код. Чтобы начать работу, ознакомьтесь с разделом [Сведения о сканировании кода](/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/about-code-scanning).

## Дальнейшие действия

- [Защита сквозной цепочки поставок](/code-security/supply-chain-security/end-to-end-supply-chain/end-to-end-supply-chain-overview)

- [Рекомендации по защите учетных записей](/code-security/supply-chain-security/end-to-end-supply-chain/securing-accounts)

- [Рекомендации по обеспечению безопасности системы сборки](/code-security/supply-chain-security/end-to-end-supply-chain/securing-builds)
