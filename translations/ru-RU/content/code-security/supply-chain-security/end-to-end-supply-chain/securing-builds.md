---
title: Рекомендации по обеспечению безопасности системы сборки
shortTitle: Securing builds
allowTitleToDifferFromFilename: true
intro: "Руководство по защите конечного этапа цепочки поставок\_— систем, используемых для создания и распространения артефактов."
versions:
  fpt: '*'
  ghec: '*'
  ghes: '*'
  ghae: '*'
type: overview
topics:
  - Fundamentals
  - Security
  - CI
  - CD
ms.openlocfilehash: f184bb668ba1594a77099fab734686b9c550c238
ms.sourcegitcommit: 47bd0e48c7dba1dde49baff60bc1eddc91ab10c5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/05/2022
ms.locfileid: '147518859'
---
## Об этом руководстве

В этом руководстве описываются самые важные изменения, которые можно внести для улучшения защиты вашей системы сборки. В каждом разделе описаны изменения, которые можно внести в процессы для повышения безопасности. Сначала указаны изменения с самым высоким влиянием.

## В чем заключаются риски?

Некоторые атаки на цепочки поставок программного обеспечения направлены непосредственно на систему сборки. Если злоумышленник сможет изменить процесс сборки, то сможет использовать систему, не прилагая никаких усилий для взлома личных учетных записей или кода. Важно, чтобы вы не забывали защитить систему сборки, как и личные учетные записи и код.

## Защита системы сборки

Существует несколько возможностей обеспечения безопасности, которые должна иметь система сборки.

1. Шаги сборки должны быть понятными и воспроизводимыми.

2. Вы должны точно знать, что выполнялось во время процесса сборки.

3. Каждая сборка должна начинаться в новой среде, чтобы взломанная сборка не сохранялась и не могла повлиять на будущие сборки.

{% data variables.product.prodname_actions %} помогает реализовать эти возможности. Инструкции по сборке хранятся в репозитории вместе с кодом. Вы выбираете среду, в которой выполняется сборка, включая Windows, Mac, Linux или средства выполнения, размещенные вами. Каждая сборка начинается с нового образа средства выполнения тестов, что затрудняет сохранение атаки в вашей среде сборки.

Помимо преимуществ безопасности, {% data variables.product.prodname_actions %} позволяет запускать сборки вручную, периодически или в ответ на события Git в репозитории для частых и быстрых сборок.

{% data variables.product.prodname_actions %} — это обширная тема, но рекомендуется начинать с разделов [Основные сведения о GitHub Actions](/actions/learn-github-actions/understanding-github-actions), [Выбор средств выполнения, размещенных в GitHub](/actions/using-workflows/workflow-syntax-for-github-actions#choosing-github-hosted-runners) и [Активация рабочего процесса](/actions/using-workflows/triggering-a-workflow).

## Подписывание сборок

После того как процесс сборки будет защищен, вам следует предотвратить незаконное изменение конечного результата процесса сборки. Подписывание ваших сборок — отличный способ сделать это. При публичном распространении программного обеспечения это часто делается с помощью пары открытого и закрытого криптографических ключей. Вы используете закрытый ключ для подписи сборки и публикуете открытый ключ, чтобы пользователи программного обеспечения могли проверить подпись в сборке до его использования. Если байты сборки изменятся, подпись не пройдет проверку.

Как именно вы подписываете сборку, зависит от того, какой код вы пишете, и от того, кто ваши пользователи. Часто сложно понять, как безопасно хранить закрытый ключ. Одним из основных вариантов здесь является использование зашифрованных секретов {% data variables.product.prodname_actions %}, хотя необходимо соблюдать осторожность и внимательно ограничивать доступ к этим рабочим процессам {% data variables.product.prodname_actions %}. {% ifversion fpt or ghec %} Если закрытый ключ хранится в другой системе, доступной через Интернет (такой как Microsoft Azure или HashiCorp Vault), можно использовать более сложный вариант — проверку подлинности с помощью OpenID Connect, чтобы не передавать секреты в системах.{% endif %} Если закрытый ключ доступен только из частной сети, можно также использовать локальные средства выполнения для {% data variables.product.prodname_actions %}.

Дополнительные сведения см. в разделах [Зашифрованные секреты](/actions/security-guides/encrypted-secrets){% ifversion fpt or ghec %}, [Сведения об усилении защиты с помощью OpenID Connect](/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect){% endif %} и [Сведения о локальных средствах выполнения](/actions/hosting-your-own-runners/about-self-hosted-runners).

## Усиление защиты для {% data variables.product.prodname_actions %}

Существует много дополнительных действий, которые можно предпринять для дополнительной защиты {% data variables.product.prodname_actions %}. В частности, будьте осторожны при оценке сторонних рабочих процессов и рассмотрите возможность использования `CODEOWNERS`, чтобы ограничить пользователей, которые могут вносить изменения в рабочие процессы.

Дополнительные сведения см. в разделе [Усиление защиты для GitHub Actions](/actions/security-guides/security-hardening-for-github-actions), особенно в подразделах [Использование сторонних действий](/actions/security-guides/security-hardening-for-github-actions#using-third-party-actions) и [Использование `CODEOWNERS` для отслеживания изменений](/actions/security-guides/security-hardening-for-github-actions#using-codeowners-to-monitor-changes).

## Дальнейшие действия

- [Защита сквозной цепочки поставок](/code-security/supply-chain-security/end-to-end-supply-chain/end-to-end-supply-chain-overview)

- [Рекомендации по защите учетных записей](/code-security/supply-chain-security/end-to-end-supply-chain/securing-accounts)

- [Рекомендации по защите кода в цепочке поставок](/code-security/supply-chain-security/end-to-end-supply-chain/securing-code)
