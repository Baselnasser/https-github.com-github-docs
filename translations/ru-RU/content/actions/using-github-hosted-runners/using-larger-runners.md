---
title: Использование крупных средств выполнения
shortTitle: Larger runners
intro: '{% data variables.product.prodname_dotcom %} предлагает более крупные средства выполнения с большим объемом ОЗУ и ЦП.'
miniTocMaxHeadingLevel: 3
product: '{% data reusables.gated-features.hosted-runners %}'
versions:
  feature: actions-hosted-runners
ms.openlocfilehash: eca33ee8b427f918a3db5d8b4ca05947b7662896
ms.sourcegitcommit: d0cea547f6a5d991a28c310257cafd616235889f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2022
ms.locfileid: '148120876'
---
## Общие сведения о {% data variables.actions.hosted_runner %}

Помимо [стандартных средств выполнения, размещенных на {% data variables.product.prodname_dotcom %}](/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources), {% data variables.product.prodname_dotcom %} также предлагает клиентам с планом {% data variables.product.prodname_team %} и {% data variables.product.prodname_ghe_cloud %} ряд {% data variables.actions.hosted_runner %} с большим объемом ОЗУ и ЦП. Эти средства выполнения размещаются в {% data variables.product.prodname_dotcom %} и для них уже предустановлено приложение и другие инструменты.

Если для вашей организации включены {% data variables.actions.hosted_runner %}s, автоматически создается группа средств выполнения по умолчанию с набором из четырех предварительно настроенных {% data variables.actions.hosted_runner %}s.

При добавлении {% data variables.actions.hosted_runner %} в организацию вы определяете тип компьютера из набора доступных спецификаций оборудования и образов операционной системы. Затем {% data variables.product.prodname_dotcom %} создаст несколько экземпляров этого средства выполнения, которые будут увеличивать и уменьшать масштаб в соответствии с требованиями заданий вашей организации на основе заданных ограничений автомасштабирования.

## Спецификации компьютера для {% data variables.actions.hosted_runner %}s 

|Размер (vcpu) | Память (ГБ) | Хранилище (SSD) |
| ------------- | ------------- | ------------- |
|4 ядра | 16 ОЗУ  | 150 ГБ|
| 8 ядер | 32 ОЗУ | 300 ГБ |
|16 ядер| 64 ОЗУ | 600 ГБ |
|32 ядра| 128 ОЗУ| 1200 ГБ|
|64 ядра| 256 ОЗУ | 2040 ГБ|

## Общие сведения об архитектуре {% data variables.actions.hosted_runner %}

{% data variables.actions.hosted_runner %} управляются на уровне организации, где они упорядочены по группам, которые могут содержать несколько экземпляров средства выполнения. Их также можно создавать на уровне предприятия и совместно использовать с организациями в иерархии. После создания группы можно добавить средство выполнения тестов в группу и обновить рабочие процессы, указав имя группы или метку, назначенную {% data variables.actions.hosted_runner %}. Вы также можете контролировать, какие репозитории могут отправлять задания группе для обработки. Дополнительные сведения о группах см. в разделе [Управление доступом к {% data variables.actions.hosted_runner %}](/actions/using-github-hosted-runners/controlling-access-to-larger-runners).

На следующей схеме был определен класс размещенного средства выполнения `ubuntu-20.04-16core` с настраиваемой конфигурацией оборудования и операционной системы.

![Схема, объясняющая {% data variables.actions.hosted_runner %}](/assets/images/hosted-runner.png)

1. Экземпляры этого средства выполнения создаются автоматически и добавляются в группу с именем `grp-ubuntu-20.04-16core`. 
2. Средствам выполнения назначена метка `ubuntu-20.04-16core`. 
3. Задания рабочего процесса используют метку `ubuntu-20.04-16core` в ключе `runs-on`, чтобы указать тип средства выполнения, который им необходим для выполнения задания.
4. {% data variables.product.prodname_actions %} проверяет группу средств выполнения, чтобы узнать, разрешено ли репозиторию отправлять задания в средство выполнения.
5. Задание выполняется на следующем доступном экземпляре средства выполнения `ubuntu-20.04-16core`.

## Автомасштабирование о {% data variables.actions.hosted_runner %}

Ваши {% data variables.actions.hosted_runner %} можно настроить для автоматического масштабирования в соответствии с вашими потребностями. При отправке заданий для обработки больше компьютеров можно автоматически подготовить для выполнения заданий до достижения предварительно определенного максимального ограничения. Каждый компьютер обрабатывает только одно задание за раз, поэтому эти параметры эффективно определяют количество заданий, которые могут выполняться одновременно. 

Во время развертывания средства выполнения можно настроить параметр _Max_, который позволяет управлять затратами, устанавливая максимальное параллельное количество компьютеров, создаваемых в этом наборе. Более высокое значение поможет помочь избежать блокировки рабочих процессов из-за параллелизма.

## Создание сетей для {% data variables.actions.hosted_runner %}

По умолчанию {% data variables.actions.hosted_runner %} получают динамический IP-адрес, который изменяется для каждого запуска задания. При необходимости клиенты {% data variables.product.prodname_ghe_cloud %} могут настроить свои {% data variables.actions.hosted_runner %} для получения статического IP-адреса из пула IP-адресов {% data variables.product.prodname_dotcom %}. Если этот параметр включен, экземпляры {% data variables.actions.hosted_runner %} получат адрес из диапазона, уникального для средства выполнения, что позволяет использовать этот диапазон для настройки списка разрешений брандмауэра. {% ifversion fpt %} Вы можете использовать до 10 диапазонов статических IP-адресов во всех {% data variables.actions.hosted_runner %}s{% endif %}{% ifversion ghec %}Можно использовать до 10 диапазонов статических IP-адресов для {% data variables.actions.hosted_runner %}s, созданных на уровне предприятия. Кроме того, можно использовать до 10 диапазонов статических IP-адресов для {% data variables.actions.hosted_runner %}, созданных на уровне организации, для каждой организации на предприятии{% endif %}.

{% note %}

**Примечание.** Если средства выполнения не используются в течение более 30 дней, их диапазоны IP-адресов автоматически удаляются и не могут быть восстановлены.

{% endnote %}

## Планирование для {% data variables.actions.hosted_runner %}

### Создание группы средств выполнения

Группы средств выполнения используются для сбора наборов виртуальных машин и создания границы безопасности вокруг них. Затем можно решить, какие организации или репозитории могут выполнять задания на этих наборах машин. Во время процесса развертывания {% data variables.actions.hosted_runner %} средство выполнения можно добавить в существующую группу, или она присоединится к группе по умолчанию. Чтобы создать группу, выполните действия, описанные в разделе [Управление доступом к {% data variables.actions.hosted_runner %}](/actions/using-github-hosted-runners/controlling-access-to-larger-runners).

### Общие сведения о выставлении счетов

{% note %}

**Примечание**. {% data variables.actions.hosted_runner %}s не используют включенные минуты прав и не являются бесплатными для общедоступных репозиториев.

{% endnote %}

По сравнению со стандартными средствами выполнения, размещенными на {% data variables.product.prodname_dotcom %}, плата за {% data variables.actions.hosted_runner %} выставляется иначе. Дополнительные сведения см. в разделе [Поминутные тарифы](/billing/managing-billing-for-github-actions/about-billing-for-github-actions#per-minute-rates).

## Добавление {% data variables.actions.hosted_runner %} в предприятие

Вы можете добавить {% data variables.actions.hosted_runner %}s в предприятие, где их можно назначить нескольким организациям. Затем администраторы организации могут управлять тем, какие репозитории могут использовать средства выполнения. Чтобы добавить {% data variables.actions.hosted_runner %} в предприятие, необходимо быть владельцем предприятия.

{% data reusables.actions.add-hosted-runner-overview %}

{% data reusables.enterprise-accounts.access-enterprise %} {% data reusables.enterprise-accounts.policies-tab %} {% data reusables.enterprise-accounts.actions-tab %} {% data reusables.enterprise-accounts.actions-runners-tab %} {% data reusables.actions.add-hosted-runner %}
1. Чтобы разрешить организациям доступ к {% data variables.actions.hosted_runner %}, необходимо указать список организаций, которые могут использовать их. Дополнительные сведения см. в статье [Управление доступом к проектам](#managing-access-to-your-runners).

## Добавление {% data variables.actions.hosted_runner %} в организацию

Вы можете добавить {% data variables.actions.hosted_runner %} в организацию, и администраторы организации могут контролировать, какие репозитории могут его использовать. 

{% data reusables.actions.add-hosted-runner-overview %}

{% data reusables.organizations.navigate-to-org %} {% data reusables.organizations.org_settings %} {% data reusables.organizations.settings-sidebar-actions-runners %} {% data reusables.actions.add-hosted-runner %}
1. Чтобы разрешить репозиториям доступ к {% data variables.actions.hosted_runner %}, добавьте их в список репозиториев, которые могут его использовать. Дополнительные сведения см. в статье [Управление доступом к проектам](#managing-access-to-your-runners).

## Запуск заданий в средстве выполнения

После определения типа средства выполнения можно обновить YAML-файлы рабочего процесса, чтобы отправлять задания в только что созданные экземпляры средства выполнения для обработки. Вы можете использовать группы или метки средств выполнения, чтобы определить, где выполняются задания. 

Только учетные записи владельца или администратора могут просматривать параметры средства выполнения. Пользователи без прав администратора могут обратиться к администратору организации, чтобы узнать, какие средства выполнения включены. Администратор организации может создавать новые средства выполнения и группы средств выполнения, а также настраивать разрешения, чтобы указать, какие репозитории могут получить доступ к группе средств выполнения.

### Использование групп для управления выполнением заданий

{% data reusables.actions.jobs.example-runs-on-groups %}

### Использование меток для управления выполнением заданий

В этом примере группа средств выполнения заполняется 16-ядерными средствами выполнения Ubuntu, которым также назначена метка `ubuntu-20.04-16core`. Ключ `runs-on` отправляет задание в любое доступное средство выполнения с соответствующей меткой:

```yaml
name: learn-github-actions
on: [push]
jobs:
  check-bats-version:
    runs-on:
      labels: ubuntu-20.04-16core
    steps:
      - uses: {% data reusables.actions.action-checkout %}
      - uses: {% data reusables.actions.action-setup-node %}
        with:
          node-version: '14'
      - run: npm install -g bats
      - run: bats -v
```

### Использование меток и групп для управления выполнением заданий

{% data reusables.actions.jobs.example-runs-on-labels-and-groups %}

### Использование нескольких меток

Можно указать несколько меток, которые должны быть сопоставлены для выполнения задания в средстве выполнения. Средство выполнения должно соответствовать всем меткам, чтобы иметь право на выполнение задания.

В этом примере средству выполнения тестов потребуется сопоставить все три метки для выполнения задания:

```yaml
name: learn-github-actions
on: [push]
jobs:
  check-bats-version:
    runs-on:
      labels: [ ubuntu-20.04-16core, gpu, qa ]
    steps:
      - uses: {% data reusables.actions.action-checkout %}
      - uses: {% data reusables.actions.action-setup-node %}
        with:
          node-version: '14'
      - run: npm install -g bats
      - run: bats -v
```

{% data reusables.actions.section-using-unique-names-for-runner-groups %}

## Управление доступом к средствам выполнения

{% note %}

**Примечание.** Прежде чем рабочие процессы смогут отправлять задания в {% data variables.actions.hosted_runner %}, необходимо настроить разрешения для группы средств выполнения. Дополнительные сведения см. в следующих разделах.

{% endnote %}

Группы средств выполнения используются для управления тем, какие репозитории могут выполнять задания в {% data variables.actions.hosted_runner %}. Необходимо предоставить доступ к группе с каждого уровня иерархии управления в зависимости от того, где вы определили {% data variables.actions.hosted_runner %}:

- **Средства выполнения на уровне предприятия**: настройте группу средств выполнения, чтобы предоставить доступ всем необходимым организациям. Кроме того, для каждой организации необходимо настроить группу, чтобы указать, какие репозитории разрешены.
- **Средства выполнения на уровне организации**: настройте группу средств выполнения, указав, какие репозитории разрешены для доступа.

Например, на следующей схеме указана группа средств выполнения с именем `grp-ubuntu-20.04-16core` на уровне предприятия. Прежде чем именованный репозиторий `octo-repo` сможет использовать средства выполнения в группе, необходимо сначала настроить группу на уровне предприятия, чтобы разрешить доступ из организации `octo-org`. Затем необходимо настроить группу на уровне организации, чтобы разрешить доступ из `octo-repo`:

![Схема, объясняющая группы {% data variables.actions.hosted_runner %}](/assets/images/hosted-runner-mgmt.png)

### Разрешение репозиториям доступа к группе средств выполнения

В этой процедуре показано, как настроить разрешения группы на уровне предприятия и организации:

{% data reusables.actions.runner-groups-navigate-to-repo-org-enterprise %} {% data reusables.actions.settings-sidebar-actions-runner-groups-selection %}
  - Для корпоративных групп средств выполнения перейдите в раздел **Доступ организаций** и измените, какие организации могут получать доступ к группе средств выполнения.
  - Для групп средств выполнения в организации перейдите в раздел **Доступ репозиториев** и измените, какие репозитории могут получать доступ к группе средств выполнения.

{% warning %}

**Предупреждение**:

{% data reusables.actions.hosted-runner-security %}

Дополнительные сведения см. в разделе [Управление доступом к {% data variables.actions.hosted_runner %}](/actions/using-github-hosted-runners/controlling-access-to-larger-runners).

{% endwarning %}
