---
title: Ограничение срока хранения для codespace
shortTitle: Restrict the retention period
intro: 'Вы можете задать максимальный период хранения для codespace, принадлежащего вашей организации.'
permissions: 'To manage retention constraints for an organization''s codespaces, you must be an owner of the organization.'
versions:
  fpt: '*'
  ghec: '*'
type: how_to
topics:
  - Codespaces
ms.openlocfilehash: 3c114fe41b06176899f9dd11a6dcd51c038c88e5
ms.sourcegitcommit: e8c012864f13f9146e53fcb0699e2928c949ffa8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2022
ms.locfileid: '148158984'
---
## Обзор

{% data variables.product.prodname_github_codespaces %} автоматически удаляются после остановки и остаются неактивными в течение определенного количества дней. Период хранения для каждого codespace задается при создании и не изменяется. 

Все пользователи, имеющие доступ к {% data variables.product.prodname_github_codespaces %}, могут настроить период хранения для создаваемых ими codespace. Начальный параметр этого периода хранения по умолчанию составляет 30 дней. Отдельные пользователи могут задать этот период в диапазоне от 0 до 30 дней. Дополнительные сведения см. в статье [Настройка автоматического удаления сред codespace](/codespaces/customizing-your-codespace/configuring-automatic-deletion-of-your-codespaces). 

Как владельцу организации вам может потребоваться настроить ограничения на максимальный период хранения для codespace, созданного для репозиториев, принадлежащих вашей организации. Это поможет ограничить затраты на хранение, связанные с codespace, которые были остановлены, а затем не использовались до автоматического удаления. Дополнительные сведения о стоимости хранения см. в статье [Сведения о выставлении счетов за {% data variables.product.prodname_github_codespaces %}](/billing/managing-billing-for-github-codespaces/about-billing-for-github-codespaces#codespaces-pricing). Вы можете задать максимальный срок хранения для всех или для конкретных репозиториев, принадлежащих вашей организации. 

### Настройка политик для всей организации и конкретного репозитория

При создании политики вы выбираете, применяется ли она ко всем репозиториям в организации или только к конкретным. Если вы создаете политику на уровне организации с ограниченным периодом хранения codespace, установленный период хранения в любых политиках, предназначенных для конкретных репозиториев, должен быть короче, чем ограничение, настроенное для всей организации, в противном случае политики не будут действовать. Применяется самый короткий (в политике для всей организации, политике, предназначенной для конкретных репозиториев, или в личных параметрах пользователя) период хранения.

При добавлении политики для всей организации с ограничением периода хранения необходимо для периода ожидания задать самый длительный допустимый период. Затем можно добавить отдельные политики, задающие в качестве максимального периода хранения более короткий период для конкретных репозиториев в организации.

{% data reusables.codespaces.codespaces-org-policies-note %}

## Добавление политики для задания максимального периода хранения codespace

{% data reusables.profile.access_org %} {% data reusables.profile.org_settings %} {% data reusables.codespaces.codespaces-org-policies %}
1. Нажмите кнопку **Добавить ограничение** и выберите **Период хранения**.

   ![Снимок экрана: раскрывающееся меню "Добавить ограничение"](/assets/images/help/codespaces/add-constraint-dropdown-retention.png)

1. Нажмите {% octicon "pencil" aria-label="The edit icon" %}, чтобы изменить ограничение.

   ![Снимок экрана: значок карандаша для редактирования ограничения](/assets/images/help/codespaces/edit-timeout-constraint.png)

1. Введите максимальное число дней, в течение которых codespace могут оставаться остановленными до автоматического удаления, а затем нажмите кнопку **Сохранить**.

   ![Снимок экрана: настройка периода хранения в днях](/assets/images/help/codespaces/maximum-days-retention.png)

   {% note %}

   **Примечания** 
   * День в этом контексте — это 24-часовой период, начинающийся с момента остановки codespace.
   * Допустимый диапазон охватывает значения от 0 до 30.
   * Если установить период `0`, codespace будут удаляться сразу после остановки или когда закончится время ожидания из-за отсутствия активности.

   {% endnote %}

{% data reusables.codespaces.codespaces-policy-targets %}
1. Если вы хотите добавить другое ограничение в политику, щелкните **Добавить ограничение** и выберите другое ограничение. Сведения о других ограничениях см. в разделе:
   * "[Ограничение доступа к типам компьютеров](/codespaces/managing-codespaces-for-your-organization/restricting-access-to-machine-types)"
   * ["Ограничение базового образа для codespaces](/codespaces/managing-codespaces-for-your-organization/restricting-the-base-image-for-codespaces)"
   * ["Ограничение видимости перенаправленных портов](/codespaces/managing-codespaces-for-your-organization/restricting-the-visibility-of-forwarded-ports)"
   * ["Ограничение времени ожидания простоя](/codespaces/managing-codespaces-for-your-organization/restricting-the-idle-timeout-period)"
1. Завершив добавление ограничений в политику, щелкните **Сохранить**.

Политика будет применяться ко всем новым пространствам кода, которые оплачиваются для вашей организации. Ограничение срока хранения применяется только к созданию codespace.

## Изменение политики

Можно изменить существующую политику. Например, вы можете захотеть добавить или удалить ограничения политики.

Ограничение периода хранения применяется к codespace только при их создании. Изменение политики не влияет на существующие codespace.

1. Отображение страницы "Политики Codespace". Дополнительные сведения см. в разделе [Добавление политики для задания максимального периода хранения codespace](#adding-a-policy-to-set-a-maximum-codespace-retention-period).
1. Щелкните имя политики, которую нужно изменить.
1. Щелкните значок карандаша ({% octicon "pencil" aria-label="The edit icon" %}) рядом с ограничением "Период хранения".
1. Внесите необходимые изменения и щелкните **Сохранить**.

## Удаление политики 

Политику можно удалить в любое время. Удаление политики не влияет на существующие codespace.

1. Отображение страницы "Политики Codespace". Дополнительные сведения см. в разделе [Добавление политики для задания максимального периода хранения codespace](#adding-a-policy-to-set-a-maximum-codespace-retention-period).
1. Нажмите кнопку удаления справа от политики, которую вы хотите удалить.

   ![Снимок экрана: кнопка удаления для политики](/assets/images/help/codespaces/policy-delete.png)
