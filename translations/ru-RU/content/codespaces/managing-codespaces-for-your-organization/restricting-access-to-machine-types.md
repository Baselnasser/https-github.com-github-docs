---
title: Ограничение доступа к типам компьютеров
shortTitle: Restrict machine types
intro: 'Вы можете задать ограничения на типы компьютеров, которые пользователи могут выбирать при создании пространств кода в организации.'
permissions: 'To manage access to machine types for the repositories in an organization, you must be an owner of the organization.'
versions:
  fpt: '*'
  ghec: '*'
type: how_to
topics:
  - Codespaces
ms.openlocfilehash: 202a2cf9f28a55514450415230686c0c0e94600f
ms.sourcegitcommit: e8c012864f13f9146e53fcb0699e2928c949ffa8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2022
ms.locfileid: '148159160'
---
## Обзор

Как правило, при создании codespace предлагается выбор спецификаций для компьютера, на котором codespace будет запущен. Вы можете выбрать наиболее подходящий для себя тип компьютера. Дополнительные сведения см. в разделе [Создание пространства кода для репозитория](/codespaces/developing-in-codespaces/creating-a-codespace-for-a-repository#creating-a-codespace-for-a-repository). 

Если вы платите за использование {% data variables.product.prodname_github_codespaces %}, выбор типа компьютера повлияет на сумму счета. Стоимость вычислений для codespace пропорциональна количеству ядер процессора в выбранном типе компьютера. Например, затраты на вычислительные ресурсы при использовании codespace в течение часа на компьютере с 16 ядрами в восемь раз превышают затраты на 2-ядерный компьютер. Дополнительные сведения о ценах см. в статье [Сведения о выставлении счетов за {% data variables.product.prodname_github_codespaces %}](/billing/managing-billing-for-github-codespaces/about-billing-for-github-codespaces).

Как владельцу организации вам может потребоваться настроить ограничения для доступных типов компьютеров. Например, если для работы в вашей организации не требуются значительные вычислительные ресурсы или дисковое пространство, можно удалить компьютеры с большим количеством ресурсов из списка вариантов, которые могут выбирать пользователи. Это можно сделать, определив одну или несколько политик в параметрах {% data variables.product.prodname_github_codespaces %} для вашей организации.

### Поведение при установке ограничения для типа компьютера

Если существуют codespace, которые больше не соответствуют определенной политике, они будут продолжать работать до тех пор, пока не будут остановлены или срок их действия не истечет. Когда пользователь попытается возобновить codespace, появится сообщение о том, что выбранный тип компьютера больше не разрешен для этой организации, и он получит подсказку выбрать альтернативный тип компьютера.

Если удалить типы компьютеров с более высокой спецификацией, необходимые для конфигурации {% data variables.product.prodname_github_codespaces %} для отдельного репозитория в вашей организации, создать пространство кода для этого репозитория будет невозможно. Когда кто-то попытается создать пространство кода, он увидит сообщение о том, что нет допустимых типов компьютеров, соответствующих требованиям конфигурации {% data variables.product.prodname_github_codespaces %} репозитория.

{% note %}

**Примечание.** Любой пользователь, который может изменить файл конфигурации `devcontainer.json` в репозитории, имеет возможность задать минимальную спецификацию для компьютеров, которые можно использовать для codespace для этого репозитория. Дополнительные сведения см. в статье [Настройка минимальной спецификации для компьютеров с codespace](/codespaces/setting-up-your-project-for-codespaces/setting-a-minimum-specification-for-codespace-machines).

{% endnote %}

Если установка политики для типов компьютеров запрещает пользователям использовать {% data variables.product.prodname_github_codespaces %} для определенного репозитория, существует два варианта:

* Вы можете настроить политики, чтобы удалять конкретные ограничения из затронутого репозитория.
* Любой пользователь, владеющий codespace, к которому он больше не может получить доступ из-за новой политики, может экспортировать свой codespace в ветвь. Эта ветвь будет содержать все изменения из codespace. Затем пользователь может открыть новый codespace в этой ветви с соответствующим типом компьютера либо локально работать в этой ветви. Дополнительные сведения см. в статье [Экспорт изменений в ветвь](/codespaces/troubleshooting/exporting-changes-to-a-branch).

### Настройка политик для всей организации и конкретного репозитория

При создании политики вы выбираете, применяется ли она ко всем репозиториям в организации или только к указанным. Если вы задали политику для всей организации, все политики, заданные для отдельных репозиториев, должны относиться к набору ограничений на уровне организации. Вследствие добавления политик выбор компьютера становится более строгим.

Например, можно создать политику для всей организации, ограничивающую типы компьютеров 2 или 4 ядрами. Затем можно задать политику для репозитория A, ограниченную только компьютерами с 2 ядрами. Установка политики для репозитория A, ограниченного компьютерами с 2, 4 или 8 ядрами, приведет к выбору только 2-ядерных и 4-ядерных компьютеров, так как, согласно политике для всей организации, доступ к 8-ядерным компьютерам запрещен.

При добавлении политики для всей организации следует задать для нее самое большое количество типов компьютеров, которые будут доступны для любого репозитория в вашей организации. Затем вы можете добавить политики для конкретного репозитория, чтобы дополнительно ограничить выбор.

{% data reusables.codespaces.codespaces-org-policies-note %}

## Добавление политики для ограничения доступных типов компьютеров

{% data reusables.profile.access_org %} {% data reusables.profile.org_settings %} {% data reusables.codespaces.codespaces-org-policies %}
1. Щелкните **Добавить ограничение** и выберите **Типы компьютеров**.

   ![Снимок экрана: раскрывающееся меню "Добавить ограничение"](/assets/images/help/codespaces/add-constraint-dropdown.png)

1. Щелкните {% octicon "pencil" aria-label="The edit icon" %}, чтобы изменить ограничение, а затем отмените выбор всех типов компьютеров, доступ к которым вы не хотите предоставлять.

   ![Снимок экрана: значок карандаша для изменения ограничения](/assets/images/help/codespaces/edit-machine-constraint.png)

{% data reusables.codespaces.codespaces-policy-targets %}
1. Если вы хотите добавить другое ограничение в политику, щелкните **Добавить ограничение** и выберите другое ограничение. Дополнительные сведения о других ограничениях см. в разделе:
   * [Ограничение базового образа для codespaces](/codespaces/managing-codespaces-for-your-organization/restricting-the-base-image-for-codespaces)
   * ["Ограничение видимости перенаправленных портов](/codespaces/managing-codespaces-for-your-organization/restricting-the-visibility-of-forwarded-ports)"
   * [Ограничение времени ожидания простоя](/codespaces/managing-codespaces-for-your-organization/restricting-the-idle-timeout-period)
   * [Ограничение срока хранения для codespaces](/codespaces/managing-codespaces-for-your-organization/restricting-the-retention-period-for-codespaces)
1. Завершив добавление ограничений в политику, щелкните **Сохранить**.

Политика будет применяться ко всем новым пространствам кода, которые оплачиваются для вашей организации. Ограничение типа компьютера также применяется к существующим codespace, когда кто-то пытается перезапустить остановленное codespace или повторно подключиться к активному codespace.

## Изменение политики

Можно изменить существующую политику. Например, вы можете захотеть добавить или удалить ограничения политики.

1. Откройте страницу "Политики codespace". Дополнительные сведения см. в статье [Добавление политики для ограничения доступных типов компьютеров](#adding-a-policy-to-limit-the-available-machine-types).
1. Щелкните имя политики, которую нужно изменить.
1. Щелкните значок карандаша ({% octicon "pencil" aria-label="The edit icon" %}) рядом с ограничением "Типы компьютеров".
1. Внесите необходимые изменения и щелкните **Сохранить**.

## Удаление политики 

1. Откройте страницу "Политики codespace". Дополнительные сведения см. в статье [Добавление политики для ограничения доступных типов компьютеров](#adding-a-policy-to-limit-the-available-machine-types).
1. Нажмите кнопку "Удалить" справа от политики, которую вы хотите удалить.

   ![Снимок экрана: кнопка удаления для политики](/assets/images/help/codespaces/policy-delete.png)

## Дополнительные материалы

- [Управление предельными суммами расходов для {% data variables.product.prodname_github_codespaces %}](/billing/managing-billing-for-github-codespaces/managing-the-spending-limit-for-github-codespaces)
