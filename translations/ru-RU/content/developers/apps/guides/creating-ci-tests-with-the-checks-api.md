---
title: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ CI —Å –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫
intro: '–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é {% data variables.product.prodname_github_app %} –∏ API –ø—Ä–æ–≤–µ—Ä–æ–∫.'
redirect_from:
  - /apps/quickstart-guides/creating-ci-tests-with-the-checks-api
  - /developers/apps/creating-ci-tests-with-the-checks-api
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - GitHub Apps
shortTitle: CI tests using Checks API
ms.openlocfilehash: 0459714ae9ffb8094c70a714a60a66a19964424f
ms.sourcegitcommit: 06d16bf9a5c7f3e7107f4dcd4d06edae5971638b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2022
ms.locfileid: '148179680'
---
## –í–≤–µ–¥–µ–Ω–∏–µ

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è GitHub](/apps/) –∏ [API –ø—Ä–æ–≤–µ—Ä–æ–∫](/rest/reference/checks), –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (CI), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–µ—Å—Ç—ã.

CI¬†‚Äî —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç —á–∞—Å—Ç–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∫–æ–¥–∞ –≤ –æ–±—â–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –§–∏–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞ –±—ã—Å—Ç—Ä–µ–µ –∏ —á–∞—â–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä–µ–º –∫–æ–¥–∞, –æ—Ç–ª–∞–¥–∫—É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –æ—à–∏–±–∫–∏. –ß–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ —Ç–∞–∫–∂–µ —É–ø—Ä–æ—â–∞—é—Ç —Å–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç —Ä–∞–∑–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Ç—Ä–∞—Ç–∏—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Ç–ª–∞–¥–∫—É –æ—à–∏–±–æ–∫ –∏–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–ª–∏—è–Ω–∏—è. üôå

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ CI —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Å—Ç—ã CI, —Ç–∞–∫–∏–µ –∫–∞–∫ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –∫–æ–¥–∞ (–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª—è), –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –æ–±—ä–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã–º —Ñ–∏–∫—Å–∞—Ü–∏—è–º –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –°–µ—Ä–≤–µ—Ä—ã CI –º–æ–≥—É—Ç –¥–∞–∂–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –∫–æ–¥ –Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∏–ª–∏ —Ä–∞–±–æ—á–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤ CI, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è GitHub, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ –æ [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](https://github.com/marketplace/category/continuous-integration), –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ GitHub Marketplace.

{% data reusables.apps.app-ruby-guides %}

### –û–±–∑–æ—Ä API –ø—Ä–æ–≤–µ—Ä–æ–∫

[API –ø—Ä–æ–≤–µ—Ä–æ–∫](/rest/reference/checks) –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç—ã CI, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. API –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å–æ–æ–±—â–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –≤ GitHub –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏** –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ. –° –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–≤–µ–¥–µ–Ω–∏—è–º–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞. –ó–∞–º–µ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏**. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ, –∑–∞–º–µ—Ç–∫–∏ —Ç–∞–∫–∂–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**.

_–ù–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫_¬†‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ _–∑–∞–ø—É—Å–∫–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫_ (–æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã CI). –ù–∞–±–æ—Ä –∏ –∑–∞–ø—É—Å–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç _—Å–æ—Å—Ç–æ—è–Ω–∏—è_, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≤ GitHub. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–æ–≥–¥–∞ —Ñ–∏–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å [–∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ –≤–µ—Ç–≤—è–º–∏](/rest/reference/repos#branches) –º–æ–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [–°–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –≤–µ—Ç–≤—è—Ö](/github/administering-a-repository/about-protected-branches#require-status-checks-before-merging).

API –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç [—Å–æ–±—ã—Ç–∏–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ `check_suite`](/webhooks/event-payloads/#check_suite) –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º GitHub, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–±—ã—Ç–∏–π API –ø—Ä–æ–≤–µ—Ä–æ–∫, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `checks:write`. GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `check_suite` –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏–∫—Å–∞—Ü–∏–π –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ—Ç–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ [–æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –Ω–∞–±–æ—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫ ](/rest/reference/checks#update-repository-preferences-for-check-suites). –≠—Ç–æ—Ç –ø–æ—Ç–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. –í—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, GitHub –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ `check_suite` —Å –¥–µ–π—Å—Ç–≤–∏–µ–º `requested` –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π GitHub, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º`checks:write`. –≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å–æ–æ–±—â–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –æ —Ç–æ–º, —á—Ç–æ –∫–æ–¥ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏ —á—Ç–æ GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫.
1. –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ, –æ–Ω–æ –º–æ–∂–µ—Ç [–¥–æ–±–∞–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#create-a-check-run) –≤ —ç—Ç–æ—Ç –Ω–∞–±–æ—Ä.
1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å [–∑–∞–º–µ—Ç–∫–∏](/rest/reference/checks#annotations-object), –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö –∫–æ–¥–∞.

**–ò–∑ —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –≤—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:**

* –ß–∞—Å—Ç—å¬†1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ CI —Å –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫.
  * –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ GitHub –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è API –ø—Ä–æ–≤–µ—Ä–æ–∫.
  * –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ CI, –∫–æ–≥–¥–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏.
  * –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –≤ GitHub.
* –ß–∞—Å—Ç—å¬†2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã CI, —Å–æ–∑–¥–∞–Ω–Ω–æ–π –ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ CI –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞.
  * –û–±–Ω–æ–≤–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–æ–º–æ—â—å—é —Å–≤–µ–¥–µ–Ω–∏–π `status`, `conclusion` –∏ `output`.
  * –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–º–µ—Ç–∫–∏ –≤ —Å—Ç—Ä–æ–∫–∞—Ö –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ GitHub –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞ –≤–∫–ª–∞–¥–∫–∞—Ö **–ü—Ä–æ–≤–µ—Ä–∫–∏** –∏ **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ.
  * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞ –ø—É—Ç–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ" –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏** –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö —Å–µ—Ä–≤–µ—Ä–∞ CI API –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–∏–º –∫—Ä–∞—Ç–∫–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å–æ —Å–ª–µ–¥—É—é—â–µ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π:

![–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Å–µ—Ä–≤–µ—Ä—É CI API –ø—Ä–æ–≤–µ—Ä–æ–∫](/assets/images/github-apps/github_apps_checks_api_ci_server.gif)

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–∞–±–æ—Ç–µ, –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ GitHub](/apps/), [–≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞–º–∏](/webhooks) –∏ [API –ø—Ä–æ–≤–µ—Ä–æ–∫](/rest/reference/checks), –µ—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∏ —ç—Ç–æ–≥–æ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ REST¬†API](/rest). API –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ [GraphQL](/graphql), –Ω–æ –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª—è–µ—Ç—Å—è REST. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ –æ–±—ä–µ–∫—Ç–∞—Ö GraphQL [–ù–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫](/graphql/reference/objects#checksuite) –∏ [–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏](/graphql/reference/objects#checkrun).

–í—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [—è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Ruby](https://www.ruby-lang.org/en/), —Å–ª—É–∂–±—É –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ [Smee](https://smee.io/), [–±–∏–±–ª–∏–æ—Ç–µ–∫—É Octokit.rb Ruby](http://octokit.github.io/octokit.rb/) –¥–ª—è REST¬†API GitHub –∏ [–≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É Sinatra](http://sinatrarb.com/), —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ CI API –ø—Ä–æ–≤–µ—Ä–æ–∫.

–ß—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç, –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—ã—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ –∫–∞–∫–æ–º-–ª–∏–±–æ –∏–∑ —ç—Ç–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏–ª–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π. –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è. –ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤ CI —Å –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π [–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ CI —Å –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫](https://github.com/github-developer/creating-ci-tests-with-the-checks-api).
  ```shell
    $ git clone https://github.com/github-developer/creating-ci-tests-with-the-checks-api.git
  ```

  –í –∫–∞—Ç–∞–ª–æ–≥–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Ñ–∞–π–ª `template_server.rb` —Å –∫–æ–¥–æ–º —à–∞–±–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ, –∏ —Ñ–∞–π–ª `server.rb` —Å –≥–æ—Ç–æ–≤—ã–º –∫–æ–¥–æ–º –ø—Ä–æ–µ–∫—Ç–∞.

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](/apps/quickstart-guides/setting-up-your-development-environment/), —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**. –í–º–µ—Å—Ç–æ [–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π GitHub](/apps/quickstart-guides/setting-up-your-development-environment/#prerequisites) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `template_server.rb` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ.

  –ï—Å–ª–∏ –≤—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä–∞–±–æ—Ç—É —Å –∫—Ä–∞—Ç–∫–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é GitHub, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ _–Ω–æ–≤–æ–µ_ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ GitHub –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª Smee –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —ç—Ç–∏–º –∫—Ä–∞—Ç–∫–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º.

  –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —à–∞–±–ª–æ–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è GitHub, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–∞–∑–¥–µ–ª–æ–º [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](/apps/quickstart-guides/setting-up-your-development-environment/#troubleshooting).

## –ß–∞—Å—Ç—å¬†1. –°–æ–∑–¥–∞–Ω–∏–µ API –ø—Ä–æ–≤–µ—Ä–æ–∫

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∫–æ–¥, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ `check_suite`, –∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏. –í—ã —Ç–∞–∫–∂–µ —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ GitHub. –í –∫–æ–Ω—Ü–µ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ GitHub.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–æ–¥–∞ –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ. –í—ã –¥–æ–±–∞–≤–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å—Ç–∞—Ç—å–µ–π [–ß–∞—Å—Ç—å¬†2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ CI Octo RuboCop](#part-2-creating-the-octo-rubocop-ci-test).

–£ –≤–∞—Å —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–Ω–∞–ª Smee, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é GitHub, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏—è, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](/apps/quickstart-guides/setting-up-your-development-environment/), —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.

–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–∞–±–æ—Ç–µ! –ù–∏–∂–µ —É–∫–∞–∑–∞–Ω–Ω—ã —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —á–∞—Å—Ç–∏¬†1.

1. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#step-11-updating-app-permissions)
1. [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π](#step-12-adding-event-handling)
1. [–°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](#step-13-creating-a-check-run)
1. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](#step-14-updating-a-check-run)

## –®–∞–≥¬†1.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏ [–ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#prerequisites) –≤—ã –ø—Ä–∏–Ω—è–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É —Ä–µ—Å—É—Ä—Å–æ–≤. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –ø—Ä–æ–≤–µ—Ä–æ–∫.

–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://github.com/settings/apps) –∏ —â–µ–ª–∫–Ω–∏—Ç–µ **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏** –Ω–∞ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏.
1. –í —Ä–∞–∑–¥–µ–ª–µ "–†–∞–∑—Ä–µ—à–µ–Ω–∏—è" –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—É–Ω–∫—Ç "–ü—Ä–æ–≤–µ—Ä–∫–∏" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ **–ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å** –≤ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–º—Å—è —Å–ø–∏—Å–∫–µ "–î–æ—Å—Ç—É–ø" —Ä—è–¥–æ–º —Å –Ω–∏–º.
1. –í —Ä–∞–∑–¥–µ–ª–µ "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è" –≤—ã–±–µ—Ä–∏—Ç–µ **–ù–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫** –∏ **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**, —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è.
{% data reusables.apps.accept_new_permissions_steps %}

–û—Ç–ª–∏—á–Ω–æ! –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∑–∞–¥–∞—á. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π.

## –®–∞–≥¬†1.2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω–æ –Ω–∞ —Å–æ–±—ã—Ç–∏—è **–ù–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫** –∏ **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**, –æ–Ω–æ –Ω–∞—á–Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ [`check_suite`](/webhooks/event-payloads/#check_suite) –∏ [`check_run`](/webhooks/event-payloads/#check_run). GitHub –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –≤ –≤–∏–¥–µ –∑–∞–ø—Ä–æ—Å–æ–≤ `POST`. –¢–∞–∫ –∫–∞–∫ –≤—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–ª–∏ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ Smee –≤ `http://localhost/event_handler:3000`, —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ `POST` –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ `post '/event_handler'`.

–ü—É—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç `post '/event_handler'` —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ —Ñ–∞–π–ª `template_server.rb`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–∫–∞—á–∞–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ [–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π](#prerequisites). –ü—É—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

``` ruby
  post '/event_handler' do

    # # # # # # # # # # # #
    # ADD YOUR CODE HERE  #
    # # # # # # # # # # # #

    200 # success status
  end
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è `check_suite`, –¥–æ–±–∞–≤–∏–≤ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

``` ruby
# Get the event type from the HTTP_X_GITHUB_EVENT header
case request.env['HTTP_X_GITHUB_EVENT']
when 'check_suite'
  # A new check_suite has been created. Create a new check run with status queued
  if @payload['action'] == 'requested' || @payload['action'] == 'rerequested'
    create_check_run
  end
end
```

–ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GitHub, –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ —Å –∏–º–µ–Ω–µ–º `HTTP_X_GITHUB_EVENT`, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è –≤ –∑–∞–ø—Ä–æ—Å–µ `POST`. –°–µ–π—á–∞—Å –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è —Ç–∏–ø–∞ `check_suite`, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫. –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏–º–µ–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `action`, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–æ —Å–æ–±—ã—Ç–∏—è. –î–ª—è `check_suite` –ø–æ–ª–µ `action` –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `requested`, `rerequested` –∏–ª–∏ `completed`.

–î–µ–π—Å—Ç–≤–∏–µ `requested` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∞ –¥–µ–π—Å—Ç–≤–∏–µ `rerequested` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –µ—Å—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –¢–∞–∫ –∫–∞–∫ –¥–µ–π—Å—Ç–≤–∏—è `requested` –∏ `rerequested` —Ç—Ä–µ–±—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤—ã –≤—ã–∑–æ–≤–µ—Ç–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `create_check_run`. –î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–µ–π—á–∞—Å.

## –®–∞–≥¬†1.3. –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ –∫–∞—á–µ—Å—Ç–≤–µ [–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Sinatra](https://github.com/sinatra/sinatra#helpers), –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –µ–≥–æ. –í `helpers do` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥ `create_check_run`:

``` ruby
# Create a new check run with the status queued
def create_check_run
  @installation_client.create_check_run(
    # [String, Integer, Hash, Octokit Repository object] A GitHub repository.
    @payload['repository']['full_name'],
    # [String] The name of your check run.
    'Octo RuboCop',
    # [String] The SHA of the commit to check 
    # The payload structure differs depending on whether a check run or a check suite event occurred.
    @payload['check_run'].nil? ? @payload['check_suite']['head_sha'] : @payload['check_run']['head_sha'],
    # [Hash] 'Accept' header option, to avoid a warning about the API not being ready for production use.
    accept: 'application/vnd.github+json'
  )
end
```

–≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É [–°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#create-a-check-run) —Å –ø–æ–º–æ—â—å—é [–º–µ—Ç–æ–¥–∞ create_check_run](https://msp-greg.github.io/octokit/Octokit/Client/Checks.html#create_check_run-instance_method).

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —Ç—Ä–µ–±—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–≤–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: `name` –∏ `head_sha`. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [RuboCop](https://rubocop.readthedocs.io/en/latest/) –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞ CI –¥–∞–ª–µ–µ –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–º—è Octo RuboCop, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–µ –∏–º—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

–¢–µ–ø–µ—Ä—å –≤—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –≤—ã –æ–±–Ω–æ–≤–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∂–µ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –æ –Ω–µ–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `status` GitHub –∑–∞–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `queued`.

GitHub —Å–æ–∑–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ SHA, –ø–æ—ç—Ç–æ–º—É `head_sha` —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º. SHA —Ñ–∏–∫—Å–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏—è `check_suite` –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, –±—É–¥–µ—Ç –Ω–µ –ª–∏—à–Ω–∏–º –∑–Ω–∞—Ç—å, —á—Ç–æ `head_sha` –≤–∫–ª—é—á–µ–Ω–æ –≤ –æ–±—ä–µ–∫—Ç—ã `check_suite` –∏ `check_run` –≤ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è.

–í —É–∫–∞–∑–∞–Ω–Ω–æ–º –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [—Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä](https://ruby-doc.org/core-2.3.0/doc/syntax/control_expressions_rdoc.html#label-Ternary+if), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `if/else`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–∏ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç `check_run`. –ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, –≤—ã —Å—á–∏—Ç—ã–≤–∞–µ—Ç–µ `head_sha` –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `check_run`, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã —Å—á–∏—Ç—ã–≤–∞–µ—Ç–µ –µ–≥–æ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `check_suite`.

–ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

```shell
$ ruby template_server.rb
```

{% data reusables.apps.sinatra_restart_instructions %}

–¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í –æ—Ç–≤–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ. –©–µ–ª–∫–Ω–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **–ü—Ä–æ–≤–µ—Ä–∫–∏**, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

![–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –æ—á–µ—Ä–µ–¥–∏](/assets/images/github-apps/github_apps_queued_check_run.png)

–ï—Å–ª–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ–≤–µ—Ä–∫–∏" –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –¥–æ—Å—Ç—É–ø–æ–º –Ω–∞ **–ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –≤—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Å–æ–±—ã—Ç–∏—è **–ù–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫** –∏ **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**.

–û—Ç–ª–∏—á–Ω–æ! –í—ã —É–∫–∞–∑–∞–ª–∏ GitHub —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `queued` —Ä—è–¥–æ–º —Å –∂–µ–ª—Ç—ã–º –∑–Ω–∞—á–∫–æ–º. –ó–∞—Ç–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å, –ø–æ–∫–∞ GitHub —Å–æ–∑–¥–∞—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–±–Ω–æ–≤–∏—Ç –µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

## –®–∞–≥¬†1.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ `create_check_run` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ GitHub. –ö–æ–≥–¥–∞ GitHub –∑–∞–≤–µ—Ä—à–∏—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ `check_run` —Å –¥–µ–π—Å—Ç–≤–∏–µ–º `created`. –≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞—à–∏–º —Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

–í—ã –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è `created`. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—è `rerequested`. –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–¥–∏–Ω —Ç–µ—Å—Ç –Ω–∞ GitHub, –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫", GitHub –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `rerequested` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `rerequested` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —É—Å–ª–æ–≤–∏–µ —Å–æ–±—ã—Ç–∏—è `check_run` –≤ –º–∞—Ä—à—Ä—É—Ç `post '/event_handler'`, –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ `case request.env['HTTP_X_GITHUB_EVENT']`:

``` ruby
when 'check_run'
  # Check that the event is being sent to this app
  if @payload['check_run']['app']['id'].to_s === APP_IDENTIFIER
    case @payload['action']
    when 'created'
      initiate_check_run
    when 'rerequested'
      create_check_run
    end
  end
```

GitHub –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ `created` –≤ –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `created` –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ `requested` –∏–ª–∏ `rerequested`, –∫–æ—Ç–æ—Ä—ã–π GitHub –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∏—â–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –ü—Ä–∏ —ç—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

–ó–∞—Ç–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥ `initiate_check_run`, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã –æ–±–Ω–æ–≤–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ—Å—å –∫ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–∞ CI.

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –µ—â–µ –Ω–µ –±—É–¥–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç CI, –Ω–æ —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å `queued` –Ω–∞ `pending`, –∞ –∑–∞—Ç–µ–º —Å `pending` –Ω–∞ `completed`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–±—â–∏–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –í —Å—Ç–∞—Ç—å–µ [–ß–∞—Å—Ç—å¬†2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ CI Octo RuboCop](#part-2-creating-the-octo-rubocop-ci-test) –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Å—Ç CI.

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ `initiate_check_run` –∏ –æ–±–Ω–æ–≤–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

``` ruby
# Start the CI process
def initiate_check_run
  # Once the check run is created, you'll update the status of the check run
  # to 'in_progress' and run the CI process. When the CI finishes, you'll
  # update the check run status to 'completed' and add the CI results.

  @installation_client.update_check_run(
    @payload['repository']['full_name'],
    @payload['check_run']['id'],
    status: 'in_progress',
    accept: 'application/vnd.github+json'
  )

  # ***** RUN A CI TEST *****

  # Mark the check run as complete!
  @installation_client.update_check_run(
    @payload['repository']['full_name'],
    @payload['check_run']['id'],
    status: 'completed',
    conclusion: 'success',
    accept: 'application/vnd.github+json'
  )
end
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É API [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#update-a-check-run) —Å –ø–æ–º–æ—â—å—é [`update_check_run` –º–µ—Ç–æ–¥–∞ Octokit](https://msp-greg.github.io/octokit/Octokit/Client/Checks.html#update_check_run-instance_method) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

–í–æ—Ç —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥. –í–æ-–ø–µ—Ä–≤—ã—Ö, –æ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `in_progress` –∏ –Ω–µ—è–≤–Ω–æ –∑–∞–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `started_at` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –í [—á–∞—Å—Ç–∏¬†2](#part-2-creating-the-octo-rubocop-ci-test) —ç—Ç–æ–≥–æ –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç CI –≤ —Ä–∞–∑–¥–µ–ª–µ `***** RUN A CI TEST *****`. –ü–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –ø–æ—ç—Ç–æ–º—É –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –∑–∞ –Ω–∏–º, –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ CI –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤. –ù–∞–∫–æ–Ω–µ—Ü, –∫–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ `completed`.

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ [–æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#update-a-check-run) –≤—ã –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `completed``conclusion` –∏ `completed_at`. `conclusion` —Å—É–º–º–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `success`, `failure`, `neutral`, `cancelled`, `timed_out` –∏–ª–∏ `action_required`. –í—ã –∑–∞–¥–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `success`, –∑–Ω–∞—á–µ–Ω–∏–µ `completed_at` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ `completed` –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç–æ–º, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω–æ –≤—ã –ø–µ—Ä–µ–π–¥–µ—Ç–µ –∫ –Ω–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —ç—Ç–æ—Ç –∫–æ–¥ –µ—â–µ —Ä–∞–∑, –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É `template_server.rb`:

```shell
$ ruby template_server.rb
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ—Ç–∫—Ä—ã—Ç–æ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∏ —â–µ–ª–∫–Ω–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **–ü—Ä–æ–≤–µ—Ä–∫–∏**. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ" –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É. –í—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –æ—Ç `pending` –∫ `in_progress` –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `success`:

![–ó–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏](/assets/images/github-apps/github_apps_complete_check_run.png)

## –ß–∞—Å—Ç—å¬†2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ CI Octo RuboCop

[RuboCop](https://rubocop.readthedocs.io/en/latest/)¬†‚Äî —ç—Ç–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞ Ruby –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤—â–∏–∫. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ Ruby, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ —Å—Ç–∏–ª—é Ruby](https://github.com/rubocop-hq/ruby-style-guide). RuboCop —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

* –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞
* –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
* –ó–∞–º–µ–Ω—è–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ Ruby —Å –ø–æ–º–æ—â—å—é `ruby -w`

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π API –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ —Ç–µ—Å—Ç CI.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å RuboCop –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ CI –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ç–µ—Å—Ç—ã CI), –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ–±—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ RuboCop —Å–æ–æ–±—â–∞–µ—Ç GitHub.

API –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–æ–±—â–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–∞–∂–¥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤–∫–ª—é—á–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–≤–æ–¥–∫–∏, –∑–∞–º–µ—Ç–∫–∏ –∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.

–ó–∞–º–µ—Ç–∫–∏¬†‚Äî —ç—Ç–æ —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ó–∞–º–µ—Ç–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—è–≤–∏—Ç—å –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è. –≠—Ç–∏ —Å–≤–µ–¥–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–º–∏: –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º, –æ—à–∏–±–∫–æ–π –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º. –í —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫ RuboCop.

–ß—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏** –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ. –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –Ω–∞–∂–∏–º–∞–µ—Ç –æ–¥–Ω—É –∏–∑ —ç—Ç–∏—Ö –∫–Ω–æ–ø–æ–∫, –Ω–∞–∂–∞—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ `requested_action` `check_run` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ GitHub. –î–µ–π—Å—Ç–≤–∏–µ, –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç. RuboCop –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∏ –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç–µ `requested_action`, —á—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–∞–±–æ—Ç–µ! –ù–∏–∂–µ —É–∫–∞–∑–∞–Ω–Ω—ã —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —ç—Ç–∏–º —Ä–∞–∑–¥–µ–ª–æ–º.

1. [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ Ruby](#step-21-adding-a-ruby-file)
1. [–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#step-22-cloning-the-repository)
1. [–ó–∞–ø—É—Å–∫ RuboCop](#step-23-running-rubocop)
1. [–°–±–æ—Ä –æ—à–∏–±–æ–∫ RuboCop](#step-24-collecting-rubocop-errors)
1. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞ CI](#step-25-updating-the-check-run-with-ci-test-results)
1. [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ RuboCop](#step-26-automatically-fixing-rubocop-errors)
1. [–°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#step-27-security-tips)

## –®–∞–≥¬†2.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ Ruby

–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–ª–∏ —Ü–µ–ª—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ –≤ RuboCop –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –í —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å RuboCop –≤–æ –≤—Å–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ. –¢–∞–∫ –∫–∞–∫ RuboCop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–¥ Ruby, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –æ–¥–∏–Ω —Ñ–∞–π–ª Ruby –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º –æ—à–∏–±–∫–∏. –£–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ Ruby –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –≤ –∫–æ—Ç–æ—Ä–æ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Å–≤–æ–π—Ç–µ –∏–º—è —Ñ–∞–π–ª—É —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.rb`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ `myfile.rb`):

```ruby
# The Octocat class tells you about different breeds of Octocat
class Octocat
  def initialize(name, *breeds)
    # Instance variables
    @name = name
    @breeds = breeds
  end

  def display
    breed = @breeds.join("-")

    puts "I am of #{breed} breed, and my name is #{@name}."
  end
end

m = Octocat.new("Mona", "cat", "octopus")
m.display
```

## –®–∞–≥¬†2.2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

RuboCop –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –≤–∏–¥–µ —Å–ª—É–∂–µ–±–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é GitHub –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ CI, —á—Ç–æ–±—ã RuboCop —Å–º–æ–≥ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π Git –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Ruby –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å [ruby-git](https://github.com/ruby-git/ruby-git).

`Gemfile` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ `building-a-checks-api-ci-server` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å ruby-git, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `bundle install` –Ω–∞ [–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö](#prerequisites). –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å, –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ `template_server.rb`:

``` ruby
require 'git'
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —á—Ç–æ–±—ã –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –î–∞–ª–µ–µ –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ GitHub, –¥–ª—è —á–µ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø–∏—Å—å. –¢–µ–ø–µ—Ä—å –∑–∞–¥–∞–π—Ç–µ –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ **—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å**, —á—Ç–æ–±—ã –Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ. –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://github.com/settings/apps) –∏ —â–µ–ª–∫–Ω–∏—Ç–µ **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏** –Ω–∞ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏.
1. –í —Ä–∞–∑–¥–µ–ª–µ "–†–∞–∑—Ä–µ—à–µ–Ω–∏—è" –Ω–∞–π–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ **–ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å** –≤ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–º—Å—è —Å–ø–∏—Å–∫–µ "–î–æ—Å—Ç—É–ø" —Ä—è–¥–æ–º —Å –Ω–∏–º.
{% data reusables.apps.accept_new_permissions_steps %}

–ß—Ç–æ–±—ã –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è GitHub, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Ä–∫–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`x-access-token:<token>`), –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ:

```shell
git clone https://x-access-token:<token>@github.com/<owner>/<repo>.git
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É HTTP. –î–ª—è –Ω–µ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –≤ —Ç–æ–º —á–∏—Å–ª–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è) –∏ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π [octocat Hello-World](https://github.com/octocat/Hello-World) –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ–µ –∏–º—è `octocat/hello-world`.

–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏ –∏–∑–≤–ª–µ—á—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É Git. –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≤—Å–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ –≤–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–µ—Ç–æ–¥—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–º—è –∏ –ø–æ–ª–Ω–æ–µ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∞ —Ç–∞–∫–∂–µ —Å—Å—ã–ª–∫–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è. –°—Å—ã–ª–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å SHA —Ñ–∏–∫—Å–∞—Ü–∏–∏, –≤–µ—Ç–≤—å—é –∏–ª–∏ —Ç–µ–≥–æ–º. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ —Ä–∞–∑–¥–µ–ª –º–µ—Ç–æ–¥–∞ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `template_server.rb`:

``` ruby
# Clones the repository to the current working directory, updates the
# contents using Git pull, and checks out the ref.
#
# full_repo_name  - The owner and repo. Ex: octocat/hello-world
# repository      - The repository name
# ref             - The branch, commit SHA, or tag to check out
def clone_repository(full_repo_name, repository, ref)
  @git = Git.clone("https://x-access-token:#{@installation_token.to_s}@github.com/#{full_repo_name}.git", repository)
  pwd = Dir.getwd()
  Dir.chdir(repository)
  @git.pull
  @git.checkout(ref)
  Dir.chdir(pwd)
end
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å `ruby-git` –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–æ–º–æ—â—å—é –º–∞—Ä–∫–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ—Ç –∫–æ–¥ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–¥ –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ, —á—Ç–æ –∏ `template_server.rb`. –ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã Git –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ–¥ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—á—É—é –ø–∞–ø–∫—É –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (`pwd`), —á—Ç–æ–±—ã –ø–æ–º–Ω–∏—Ç—å, –∫—É–¥–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –∏–∑ –º–µ—Ç–æ–¥–∞ `clone_repository`.

–ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —ç—Ç–æ—Ç –∫–æ–¥ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`@git.pull`), –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Å—ã–ª–∫—É (`@git.checkout(ref)`), –∞ –∑–∞—Ç–µ–º –∏–∑–º–µ–Ω—è–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é —Ä–∞–±–æ—á—É—é –ø–∞–ø–∫—É (`pwd`).

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Å—ã–ª–∫—É. –î–∞–ª–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤—ã–∑–≤–∞—Ç—å –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `clone_repository`. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π `***** RUN A CI TEST *****` –≤ –º–µ—Ç–æ–¥ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `initiate_check_run`:

``` ruby
# ***** RUN A CI TEST *****
full_repo_name = @payload['repository']['full_name']
repository     = @payload['repository']['name']
head_sha       = @payload['check_run']['head_sha']

clone_repository(full_repo_name, repository, head_sha)
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –≤—ã—à–µ –∫–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ SHA —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ `check_run`.

## –®–∞–≥¬†2.3. –ó–∞–ø—É—Å–∫ RuboCop

–û—Ç–ª–∏—á–Ω–æ! –í—ã –∫–ª–æ–Ω–∏—Ä—É–µ—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–µ—Ä–∞ CI. –¢–µ–ø–µ—Ä—å –≤—ã –ø–µ—Ä–µ–π–¥–µ—Ç–µ –∫ —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º –¥–µ—Ç–∞–ª—è–º [–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞ RuboCop](https://docs.rubocop.org/rubocop/usage/basic_usage.html#code-style-checker) –∏ [–∑–∞–º–µ—Ç–æ–∫ API –ø—Ä–æ–≤–µ—Ä–æ–∫](/rest/reference/checks#create-a-check-run).

–£–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç RuboCop –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫–∏ –∫–æ–¥–∞ —Å—Ç–∏–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ–¥ –≤—ã–∑–æ–≤–æ–º –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `clone_repository`, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞ [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ](#step-22-cloning-the-repository), –∏ –Ω–∞–¥ –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

``` ruby
# Run RuboCop on all files in the repository
@report = `rubocop '#{repository}' --format json`
logger.debug @report
`rm -rf #{repository}`
@output = JSON.parse @report
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç RuboCop –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ü–∞—Ä–∞–º–µ—Ç—Ä `--format json`¬†‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ JSON —Å–º. –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ RuboCop](https://docs.rubocop.org/rubocop/formatters.html#json-formatter).

–¢–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã RuboCop –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `@report`, –æ–Ω –º–æ–∂–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –≠—Ç–æ—Ç –∫–æ–¥ —Ç–∞–∫–∂–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç JSON, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á–∞–º –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ GitHub —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `@output`.

{% note %}

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**. –ö–æ–º–∞–Ω–¥—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`rm -rf`), –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å. –°–º. [–®–∞–≥¬†2.7. –°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#step-27-security-tips), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤–Ω–µ–¥—Ä–µ–Ω–Ω—ã—Ö –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞, –æ—Ç–ª–∏—á–Ω–æ–≥–æ –æ—Ç –∫–∞—Ç–∞–ª–æ–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–∏–ª –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ —Å –∏–º–µ–Ω–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `./`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–¥–∞–ª–∏—Ç –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥. üò± –ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–µ –≤—ã _–Ω–µ_ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –º–µ—Ç–æ–¥ `verify_webhook_signature` (–∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–µ–Ω –≤ `template_server.rb`) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —è–≤–ª—è–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º.

{% endnote %}

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —ç—Ç–æ—Ç –∫–æ–¥, –∏ —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫–∏, —Å–æ–æ–±—â–∞–µ–º—ã–µ RuboCop, –≤ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ª–∞–¥–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä `template_server.rb` –µ—â–µ —Ä–∞–∑ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ –≤—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```shell
$ ruby template_server.rb
```

–í –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ª–∞–¥–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—à–∏–±–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞, —Ö–æ—Ç—è –æ–Ω–∏ –Ω–µ –ø–µ—á–∞—Ç–∞—é—Ç—Å—è —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –≤–µ–±-—Å—Ä–µ–¥—Å—Ç–≤–∞, –∫–∞–∫ [—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤—â–∏–∫ JSON](https://jsonformatter.org/), —á—Ç–æ–±—ã –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ JSON —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ–± –∞–Ω–∞–ª–∏–∑–µ –∫–æ–¥–∞:

```json
{
  "metadata": {
    "rubocop_version": "0.60.0",
    "ruby_engine": "ruby",
    "ruby_version": "2.3.7",
    "ruby_patchlevel": "456",
    "ruby_platform": "universal.x86_64-darwin18"
  },
  "files": [
    {
      "path": "Octocat-breeds/octocat.rb",
      "offenses": [
        {
          "severity": "convention",
          "message": "Style/StringLiterals: Prefer single-quoted strings when you don't need string interpolation or special symbols.",
          "cop_name": "Style/StringLiterals",
          "corrected": false,
          "location": {
            "start_line": 17,
            "start_column": 17,
            "last_line": 17,
            "last_column": 22,
            "length": 6,
            "line": 17,
            "column": 17
          }
        },
        {
          "severity": "convention",
          "message": "Style/StringLiterals: Prefer single-quoted strings when you don't need string interpolation or special symbols.",
          "cop_name": "Style/StringLiterals",
          "corrected": false,
          "location": {
            "start_line": 17,
            "start_column": 25,
            "last_line": 17,
            "last_column": 29,
            "length": 5,
            "line": 17,
            "column": 25
          }
        }
      ]
    }
  ],
  "summary": {
    "offense_count": 2,
    "target_file_count": 1,
    "inspected_file_count": 1
  }
}
```

## –®–∞–≥¬†2.4. –°–±–æ—Ä –æ—à–∏–±–æ–∫ RuboCop

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `@output` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã JSON –æ—Ç—á–µ—Ç–∞ RuboCop. –£–∫–∞–∑–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–∞–∑–¥–µ–ª `summary`, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è –æ—à–∏–±–æ–∫. –í —É–∫–∞–∑–∞–Ω–Ω–æ–º –Ω–∏–∂–µ –∫–æ–¥–µ –∑–∞–¥–∞–µ—Ç—Å—è –≤—ã–≤–æ–¥ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `success` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö. RuboCop —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –º–∞—Å—Å–∏–≤–µ `files`, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–≤–ª–µ—á—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Ñ–∞–π–ª–∞.

API –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏. –í —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ [–æ–±–Ω–æ–≤–ª—è—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#update-a-check-run) —Å –ø–æ–º–æ—â—å—é –∑–∞–º–µ—Ç–æ–∫.

API –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–º–µ—Ç–æ–∫ –¥–æ 50 –Ω–∞ –∑–∞–ø—Ä–æ—Å API. –ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –±–æ–ª–µ–µ 50¬†–∑–∞–º–µ—Ç–æ–∫, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ [–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#update-a-check-run). –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å 105¬†–∑–∞–º–µ—Ç–æ–∫, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç—Ä–∏ —Ä–∞–∑–∞ –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É [–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/rest/reference/checks#update-a-check-run). –ü–µ—Ä–≤—ã–µ –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –±—É–¥—É—Ç –∏–º–µ—Ç—å 50¬†–∑–∞–º–µ—Ç–æ–∫, –∞ —Ç—Ä–µ—Ç–∏–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ø—è—Ç—å –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–º–µ—Ç–æ–∫. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∂–∏–¥–∞—é—Ç—Å—è –∑–∞–º–µ—Ç–∫–∏ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∑–∞–º–µ—Ç–∫–∏ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å `path`, `start_line`, `end_line`, `annotation_level` –∏ `message`. RuboCop —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `start_column` –∏ `end_column`, –ø–æ–∑–≤–æ–ª—è—è –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∑–∞–º–µ—Ç–∫—É. –ó–∞–º–µ—Ç–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ `start_column` –∏ `end_column` –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ [`annotations` —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –æ–±—ä–µ–∫—Ç—É](/rest/reference/checks#annotations-object-1).

–í—ã –∏–∑–≤–ª–µ—á–µ—Ç–µ —Å–≤–µ–¥–µ–Ω–∏—è –∏–∑ RuboCop, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∑–∞–º–µ—Ç–∫–∏. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –∫ –∫–æ–¥—É, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–º—É –≤ [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ](#step-23-running-rubocop):

``` ruby
annotations = []
# You can create a maximum of 50 annotations per request to the Checks
# API. To add more than 50 annotations, use the "Update a check run" API
# endpoint. This example code limits the number of annotations to 50.
# See /rest/reference/checks#update-a-check-run
# for details.
max_annotations = 50

# RuboCop reports the number of errors found in "offense_count"
if @output['summary']['offense_count'] == 0
  conclusion = 'success'
else
  conclusion = 'neutral'
  @output['files'].each do |file|

    # Only parse offenses for files in this app's repository
    file_path = file['path'].gsub(/#{repository}\//,'')
    annotation_level = 'notice'

    # Parse each offense to get details and location
    file['offenses'].each do |offense|
      # Limit the number of annotations to 50
      next if max_annotations == 0
      max_annotations -= 1

      start_line   = offense['location']['start_line']
      end_line     = offense['location']['last_line']
      start_column = offense['location']['start_column']
      end_column   = offense['location']['last_column']
      message      = offense['message']

      # Create a new annotation for each error
      annotation = {
        path: file_path,
        start_line: start_line,
        end_line: end_line,
        start_column: start_column,
        end_column: end_column,
        annotation_level: annotation_level,
        message: message
      }
      # Annotations only support start and end columns on the same line
      if start_line == end_line
        annotation.merge({start_column: start_column, end_column: end_column})
      end

      annotations.push(annotation)
    end
  end
end
```

–≠—Ç–æ—Ç –∫–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–º–µ—Ç–æ–∫ –¥–æ 50. –ù–æ —ç—Ç–æ—Ç –∫–æ–¥ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏–∑ 50¬†–∑–∞–º–µ—Ç–æ–∫. –£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `max_annotations`, –∑–∞–¥–∞—é—â—É—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 50, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ, –≤—ã–ø–æ–ª–Ω—è—é—â–µ–º –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –Ω–∞—Ä—É—à–µ–Ω–∏—è–º.

–ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `offense_count` —Ä–∞–≤–Ω–æ –Ω—É–ª—é, —Ç–µ—Å—Ç CI –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `success`. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫ —ç—Ç–æ—Ç –∫–æ–¥ –∑–∞–¥–∞–µ—Ç –¥–ª—è –∑–∞–∫–ª—é—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ `neutral`, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞. –ù–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `failure`, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞.

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –º–∞—Å—Å–∏–≤—É `files` –≤ –æ—Ç—á–µ—Ç–µ RuboCop. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏ –∑–∞–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `notice` –¥–ª—è —É—Ä–æ–≤–Ω—è –∑–∞–º–µ—Ç–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–π—Ç–∏ –µ—â–µ –¥–∞–ª—å—à–µ –∏ –∑–∞–¥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ [RuboCop Cop](https://docs.rubocop.org/rubocop/cops.html), –Ω–æ —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ, –¥–ª—è –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –∑–∞–¥–∞–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å `notice`.

–≠—Ç–æ—Ç –∫–æ–¥ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ –≤ –º–∞—Å—Å–∏–≤–µ `offenses` –∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ. –ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –∫–æ–¥ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–º–µ—Ç–∫—É –¥–ª—è –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–µ –≤ –º–∞—Å—Å–∏–≤–µ `annotations`. –¢–∞–∫ –∫–∞–∫ –∑–∞–º–µ—Ç–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª—å–Ω—ã–µ –∏ –∫–æ–Ω–µ—á–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, `start_column` –∏ `end_column` –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç `annotation` —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∏ –∫–æ–Ω–µ—á–Ω–æ–π —Å—Ç—Ä–æ–∫ —Å–æ–≤–ø–∞–¥–∞—é—Ç.

–≠—Ç–æ—Ç –∫–æ–¥ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–º–µ—Ç–∫—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –í—ã –¥–æ–±–∞–≤–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ.

## –®–∞–≥¬†2.5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞ CI

–ö–∞–∂–¥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑ GitHub —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç `output`, –≤–∫–ª—é—á–∞—é—â–∏–π `title`, `summary`, `text`, `annotations` –∏ `images`. `summary` –∏ `title` —è–≤–ª—è—é—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è `output`, –Ω–æ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–Ω–æ–≥–æ —Å–≤–µ–¥–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É –≤ —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è `text` –∏ `annotations`. –ö–æ–¥ –∑–¥–µ—Å—å –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ!

–î–ª—è `summary` –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–≤–æ–¥–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –∏–∑ RuboCop –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ (`\n`) –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ, —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `text`, –Ω–æ –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `text` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è RuboCop. –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å `summary` –∏ `text`, –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∫ –∫–æ–¥—É, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ](#step-24-collecting-rubocop-errors):

``` ruby
# Updated check run summary and text parameters
summary = "Octo RuboCop summary\n-Offense count: #{@output['summary']['offense_count']}\n-File count: #{@output['summary']['target_file_count']}\n-Target file count: #{@output['summary']['inspected_file_count']}"
text = "Octo RuboCop version: #{@output['metadata']['rubocop_version']}"
```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ —Å–≤–µ–¥–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å [–ø–µ—Ä–≤–æ–π –ø–æ–ª–æ–≤–∏–Ω–æ–π —ç—Ç–æ–≥–æ –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞](#step-14-updating-a-check-run) –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ —ç—Ç–æ—Ç –∫–æ–¥, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `success`:

``` ruby
# Mark the check run as complete!
@installation_client.update_check_run(
  @payload['repository']['full_name'],
  @payload['check_run']['id'],
  status: 'completed',
  conclusion: 'success',
  accept: 'application/vnd.github+json'
)
```

–í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `conclusion`, –∑–∞–¥–∞–Ω–Ω—É—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ RuboCop (–≤ `success` –∏–ª–∏ `neutral`). –ö–æ–¥ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

``` ruby
# Mark the check run as complete! And if there are warnings, share them.
@installation_client.update_check_run(
  @payload['repository']['full_name'],
  @payload['check_run']['id'],
  status: 'completed',
  conclusion: conclusion,
  output: {
    title: 'Octo RuboCop',
    summary: summary,
    text: text,
    annotations: annotations
  },
  actions: [{
    label: 'Fix this',
    description: 'Automatically fix all linter notices.',
    identifier: 'fix_rubocop_notices'
  }],
  accept: 'application/vnd.github+json'
)
```

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –∑–∞–¥–∞–ª–∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç–∞ CI, –∏ –¥–æ–±–∞–≤–∏–ª–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ RuboCop, —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç CI! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º. üôå

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä CI –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å [–∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π](https://developer.github.com/changes/2018-05-23-request-actions-on-checks/) —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `actions`. {% ifversion fpt or ghec %} (–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å [GitHub Actions](/actions)) {% endif %} –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç –∫–Ω–æ–ø–∫—É –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏** –≤ GitHub, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫ –∫–∞–∫ RuboCop –∏–º–µ–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ Ruby, —Å–µ—Ä–≤–µ—Ä CI –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫. –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `check_run` —Å –¥–µ–π—Å—Ç–≤–∏–µ–º `requested_action`. –ö–∞–∂–¥–æ–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–º–µ–µ—Ç `identifier`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏.

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é RuboCop. –≠—Ç–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ. –ù–æ —Å–Ω–∞—á–∞–ª–∞ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ç–µ—Å—Ç–æ–º CI, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏, –∑–∞–ø—É—Å—Ç–∏–≤ —Å–µ—Ä–≤–µ—Ä `template_server.rb` –µ—â–µ —Ä–∞–∑ –∏ —Å–æ–∑–¥–∞–≤ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ:

```shell
$ ruby template_server.rb
```

–ó–∞–º–µ—Ç–∫–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏**.

![–ó–∞–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ–≤–µ—Ä–∫–∏"](/assets/images/github-apps/github_apps_checks_annotations.png)

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ", —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.

![–ö–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/assets/images/github-apps/github_apps_checks_fix_this_button.png)

–ï—Å–ª–∏ –∑–∞–º–µ—Ç–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å —Ñ–∞–π–ª–æ–º, —É–∂–µ –≤–∫–ª—é—á–µ–Ω–Ω—ã–º –≤ –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ, –æ–Ω–∏ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**.

![–ó–∞–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã"](/assets/images/github-apps/github_apps_checks_annotation_diff.png)

## –®–∞–≥¬†2.6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ RuboCop

–ï—Å–ª–∏ –≤—ã –¥–æ—à–ª–∏ –∫ —ç—Ç–æ–º—É –º–µ—Å—Ç—É, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üëè –í—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ —Ç–µ—Å—Ç CI. –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –µ—â–µ –æ–¥–Ω—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RuboCop –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫. –í—ã —É–∂–µ –¥–æ–±–∞–≤–∏–ª–∏ –∫–Ω–æ–ø–∫—É "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ" –≤ [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ](#step-25-updating-the-check-run-with-ci-test-results). –¢–µ–ø–µ—Ä—å –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `requested_action`, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ".

–°—Ä–µ–¥—Å—Ç–≤–æ RuboCop [–ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç](https://docs.rubocop.org/rubocop/usage/basic_usage.html#auto-correcting-offenses) –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ `--auto-correct` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `--auto-correct` –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ RuboCop –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–≤–æ—é –º–∞–≥–∏—á–µ—Å–∫—É—é –∫–æ–º–∞–Ω–¥—É.

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∑–∞–ø–∏—Å—å –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –í—ã –∑–∞–¥–∞–ª–∏ —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ **—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å** –µ—â–µ –≤ —Ä–∞–∑–¥–µ–ª–µ [–®–∞–≥¬†2.2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#step-22-cloning-the-repository), –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –≥–æ—Ç–æ–≤–æ.

–ß—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã, Git –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å [–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](/github/getting-started-with-github/setting-your-username-in-git/) –∏ [–∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã](/articles/setting-your-commit-email-address-in-git/), –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç —Å–≤—è–∑–∞—Ç—å —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π. –î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –≤ —Ñ–∞–π–ª `.env` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–º–µ–Ω–∏ (`GITHUB_APP_USER_NAME`) –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã (`GITHUB_APP_USER_EMAIL`). –í–∞—à–µ –∏–º—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–º–µ–Ω–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –∞–¥—Ä–µ—Å–æ–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞. –ü—Ä–∏–º–µ—Ä:

```ini
GITHUB_APP_USER_NAME=Octoapp
GITHUB_APP_USER_EMAIL=octoapp@octo-org.com
```

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ `.env` —Å –∏–º–µ–Ω–µ–º –∏ –∞–¥—Ä–µ—Å–æ–º —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π –∞–≤—Ç–æ—Ä–∞ –∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã –∏ –∑–∞–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Git. –í—ã –¥–æ–±–∞–≤–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.

–ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ", –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç [–≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/webhooks/event-payloads/#check_run) —Å —Ç–∏–ø–æ–º –¥–µ–π—Å—Ç–≤–∏—è `requested_action`.

–í —Ä–∞–∑–¥–µ–ª–µ [–®–∞–≥¬†1.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](#step-14-updating-a-check-run) –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ `event_handler` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–æ–±—ã—Ç–∏–∏ `check_run`. –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è CASE –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∏–ø–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π `created` –∏ `rerequested`:

``` ruby
when 'check_run'
  # Check that the event is being sent to this app
  if @payload['check_run']['app']['id'].to_s === APP_IDENTIFIER
    case @payload['action']
    when 'created'
      initiate_check_run
    when 'rerequested'
      create_check_run
  end
end
```

–î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –æ–¥–Ω—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `when` –ø–æ—Å–ª–µ CASE `rerequested` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è `rerequested_action`:

``` ruby
when 'requested_action'
  take_requested_action
```

–≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è `requested_action` –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥ –≤ —Ä–∞–∑–¥–µ–ª –º–µ—Ç–æ–¥–æ–≤ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–¥–∞:

``` ruby
# Handles the check run `requested_action` event
# See /webhooks/event-payloads/#check_run
def take_requested_action
  full_repo_name = @payload['repository']['full_name']
  repository     = @payload['repository']['name']
  head_branch    = @payload['check_run']['check_suite']['head_branch']

  if (@payload['requested_action']['identifier'] == 'fix_rubocop_notices')
    clone_repository(full_repo_name, repository, head_branch)

    # Sets your commit username and email address
    @git.config('user.name', ENV['GITHUB_APP_USER_NAME'])
    @git.config('user.email', ENV['GITHUB_APP_USER_EMAIL'])

    # Automatically correct RuboCop style errors
    @report = `rubocop '#{repository}/*' --format json --auto-correct`

    pwd = Dir.getwd()
    Dir.chdir(repository)
    begin
      @git.commit_all('Automatically fix Octo RuboCop notices.')
      @git.push("https://x-access-token:#{@installation_token.to_s}@github.com/#{full_repo_name}.git", head_branch)
    rescue
      # Nothing to commit!
      puts 'Nothing to commit'
    end
    Dir.chdir(pwd)
    `rm -rf '#{repository}'`
  end
end
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –∫–æ–¥, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —Ä–∞–∑–¥–µ–ª–µ [–®–∞–≥¬†2.2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#step-22-cloning-the-repository). –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `if` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –∫–Ω–æ–ø–∫–∏ RuboCop (`fix_rubocop_notices`). –ö–æ–≥–¥–∞ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –∫–æ–¥ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∑–∞–¥–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã Git, –∞ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç RuboCop —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--auto-correct`. –ü–∞—Ä–∞–º–µ—Ç—Ä `--auto-correct` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ CI.

–§–∞–π–ª—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –≤–∞–º –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –≤ GitHub. –í—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–π –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–∞–º–µ–Ω—å `ruby-git` —Å–Ω–æ–≤–∞, —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã. –í Git –µ—Å—Ç—å –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–∞–ø—ã –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –∏–ª–∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏—Ö: `git commit -a`. –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å –ø–æ–º–æ—â—å—é `ruby-git`, —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ `commit_all`. –ó–∞—Ç–µ–º –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ GitHub —Å –ø–æ–º–æ—â—å—é –º–∞—Ä–∫–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ—Ç –∂–µ —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏, —á—Ç–æ –∏ –∫–æ–º–∞–Ω–¥–∞ Git `clone`. –ù–∞–∫–æ–Ω–µ—Ü, –æ–Ω —É–¥–∞–ª—è–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ–±—ã—Ç–∏—é.

–í–æ—Ç –∏ –≤—Å–µ! –ù–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥ —Ç–µ–ø–µ—Ä—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä CI API –ø—Ä–æ–≤–µ—Ä–æ–∫. üí™ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä `template_server.rb` –µ—â–µ —Ä–∞–∑ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ:

```shell
$ ruby template_server.rb
```

{% data reusables.apps.sinatra_restart_instructions %}

–ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ", —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ RuboCop, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏**.

–ù–∞ –≤–∫–ª–∞–¥–∫–µ **–§–∏–∫—Å–∞—Ü–∏–∏** –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–æ–≤—É—é —Ñ–∏–∫—Å–∞—Ü–∏—é –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–¥–∞–Ω–Ω–æ–º—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Git. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.

![–ù–æ–≤–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Octo RuboCop](/assets/images/github-apps/github_apps_new_requested_action_commit.png)

–¢–∞–∫ –∫–∞–∫ –Ω–æ–≤–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –Ω–∞ –≤–∫–ª–∞–¥–∫–µ **–ü—Ä–æ–≤–µ—Ä–∫–∏** –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è Octo RuboCop. –ù–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –æ—à–∏–±–æ–∫ –Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ RuboCop –≤—Å–µ –∏—Ö –∏—Å–ø—Ä–∞–≤–∏–ª. üéâ

![–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏](/assets/images/github-apps/github_apps_checks_api_success.png)

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏ –≤ —Ñ–∞–π–ª–µ `server.rb`, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ [–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ CI —Å –ø–æ–º–æ—â—å—é API –ø—Ä–æ–≤–µ—Ä–æ–∫](https://github.com/github-developer/creating-ci-tests-with-the-checks-api).

## –®–∞–≥¬†2.7. –°–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è GitHub —à–∞–±–ª–æ–Ω–∞ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞. –ï—Å–ª–∏ –≤—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∏–º–µ–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –æ–Ω –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ü–µ–ª—è—Ö. –£–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, –¥–µ—Ñ–∏—Å—ã –∏ —Å–∏–º–≤–æ–ª—ã –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è. –ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä, –ø–æ–ª–Ω—ã–π –∫–æ–¥ `server.rb`, –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–æ [–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/github-developer/creating-ci-tests-with-the-checks-api) –¥–ª—è —ç—Ç–æ–≥–æ –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞–µ—Ç –∫–∞–∫ –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞, —Ç–∞–∫ –∏ —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫—É –∏–º–µ–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

``` ruby
# This quickstart example uses the repository name in the webhook with
# command-line utilities. For security reasons, you should validate the
# repository name to ensure that a bad actor isn't attempting to execute
# arbitrary commands or inject false repository names. If a repository name
# is provided in the webhook, validate that it consists only of latin
# alphabetic characters, `-`, and `_`.
unless @payload['repository'].nil?
  halt 400 if (@payload['repository']['name'] =~ /[0-9A-Za-z\-\_]+/).nil?
end
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–ù–∏–∂–µ —É–∫–∞–∑–∞–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è. –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é –∏–ª–∏ —Å–æ–≤–µ—Ç–æ–º –≤ {% data reusables.support.prodname_support_forum_with_url %}.

* **–í–æ–ø—Ä–æ—Å**. –ú–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –≤ GitHub. –Ø –Ω–µ –≤–∏–∂—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ RuboCop –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

    **–û—Ç–≤–µ—Ç**. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ **—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å** –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –º–∞—Ä–∫–µ—Ä–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [–®–∞–≥¬†2.2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#step-22-cloning-the-repository).

* **–í–æ–ø—Ä–æ—Å**. –í –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ª–∞–¥–∫–∏ `template_server.rb` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

    **–û—Ç–≤–µ—Ç**. –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –æ—à–∏–±–∫—É, –≤—ã –Ω–µ —É–¥–∞–ª–∏–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –º–µ—Ç–æ–¥–∞—Ö `initiate_check_run` –∏–ª–∏ `take_requested_action`:

    ```shell
    2018-11-26 16:55:13 - Git::GitExecuteError - git  clone '--' 'https://x-access-token:ghs_9b2080277016f797074c4dEbD350745f4257@github.com/codertocat/octocat-breeds.git' 'Octocat-breeds'  2>&1:fatal: destination path 'Octocat-breeds' already exists and is not an empty directory.:
    ```

    –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–¥ —Å —Ñ–∞–π–ª–æ–º `server.rb`, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ç–æ—Ç –∂–µ –∫–æ–¥ –∏ –º–µ—Ç–æ–¥—ã `initiate_check_run` –∏ `take_requested_action`.

* **–í–æ–ø—Ä–æ—Å**. –ù–æ–≤—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ–≤–µ—Ä–∫–∏" –≤ GitHub.

    **–û—Ç–≤–µ—Ç**. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Smee –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä `template_server.rb`.

* **–í–æ–ø—Ä–æ—Å**. –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ" –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ü—Ä–æ–≤–µ—Ä–∫–∏" –≤ GitHub –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

    **–û—Ç–≤–µ—Ç**. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Smee –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä `template_server.rb`.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–∑—É—á–∏–≤ —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ, –≤—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ—Å–Ω–æ–≤–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ CI! –î–ª—è —ç—Ç–æ–≥–æ –≤—ã:

* –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π API –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏;
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ RuboCop –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ –¥–ª—è –æ—à–∏–±–æ–∫;
* —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–æ–¥–∞.

## –î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–¥–µ–∏ –æ —Ç–æ–º, —á—Ç–æ –µ—â–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

* –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∫–Ω–æ–ø–∫–∞ "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ" –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ", —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ RuboCop –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—à–∏–±–∫–∏.
* –ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ–±—ã —Ñ–∞–π–ª—ã –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏—Å—å RuboCop –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –≥–æ–ª–æ–≤–Ω–æ–π –≤–µ—Ç–≤–∏, –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥, —á—Ç–æ–±—ã [—Å–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ](/rest/reference/pulls#create-a-pull-request) —Å –Ω–æ–≤–æ–π –≤–µ—Ç–≤—å—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–æ–ª–æ–≤–Ω–æ–π –≤–µ—Ç–≤–∏.
