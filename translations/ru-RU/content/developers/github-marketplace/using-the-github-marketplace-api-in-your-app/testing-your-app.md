---
title: Тестирование приложения
intro: 'GitHub рекомендует протестировать приложение с помощью API-интерфейсов и веб-перехватчиков перед отправкой списка в {% data variables.product.prodname_marketplace %}, чтобы обеспечить максимально эффективное взаимодействие с клиентами. Прежде чем эксперт по подключению утвердит ваше приложение, он должен соответствующим образом обработать потоки выставления счетов.'
redirect_from:
  - /apps/marketplace/testing-apps-apis-and-webhooks
  - /apps/marketplace/integrating-with-the-github-marketplace-api/testing-github-marketplace-apps
  - /marketplace/integrating-with-the-github-marketplace-api/testing-github-marketplace-apps
  - /developers/github-marketplace/testing-your-app
versions:
  fpt: '*'
  ghec: '*'
topics:
  - Marketplace
ms.openlocfilehash: c542f5bd46e4555a4459c669e2f9d75e29b63ffe
ms.sourcegitcommit: fb047f9450b41b24afc43d9512a5db2a2b750a2a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2022
ms.locfileid: '145112491'
---
## Тестирование приложений

Для имитации каждого потока выставления счетов можно использовать черновик листинга {% data variables.product.prodname_marketplace %}. Листинг в состоянии "Черновик" означает, что он не был отправлен на утверждение. Любые покупки, которые вы делаете с помощью черновика листинга {% data variables.product.prodname_marketplace %}, _не_ создают реальные транзакции, и GitHub не будет выполнять списание с вашей кредитной карты. Обратите внимание, что вы можете сымитировать покупки только для планов, опубликованных в черновике листинга, а не для черновиков плана. Дополнительные сведения см. в разделе [Разработка листинга для приложения](/developers/github-marketplace/drafting-a-listing-for-your-app) и [Использование API {% data variables.product.prodname_marketplace %} в приложении](/developers/github-marketplace/using-the-github-marketplace-api-in-your-app).

### Использование приложения разработки с черновиком листинга для тестирования изменений

Листинг {% data variables.product.prodname_marketplace %} можно связать только с одной регистрацией приложения, и каждое приложение может получить доступ только к собственному листингу {% data variables.product.prodname_marketplace %}. По этим причинам рекомендуется настроить отдельное приложение разработки с той же конфигурацией, что и в рабочем приложении, и создать _листинг_ {% data variables.product.prodname_marketplace %}, который можно использовать для тестирования. Черновик листинга {% data variables.product.prodname_marketplace %} позволяет проверить изменения без ущерба для работы активных пользователей рабочего приложения. Вам не придется отправлять сведения о листинге {% data variables.product.prodname_marketplace %} приложения разработки, так как вы будете использовать его только для тестирования.

Учитывая, что вы можете создавать черновики листингов {% data variables.product.prodname_marketplace %} для общедоступных приложений, необходимо сделать приложение разработки общедоступным. Общедоступные приложения недоступны для обнаружения за пределами опубликованных листингов {% data variables.product.prodname_marketplace %}, если вы не предоставляете общий доступ к URL-адресу приложения. Описание Marketplace в состоянии "Черновик" отображается только для владельца приложения.

Если у вас есть приложение разработки с черновиком листинга, его можно использовать для тестирования изменений, внесенных в приложение при интеграции с API {% data variables.product.prodname_marketplace %} и веб-перехватчиками.

{% warning %}

Не выполняйте тестовые покупки в приложении, которое активно в {% data variables.product.prodname_marketplace %}.

{% endwarning %}

### Имитация событий покупки в Marketplace

В сценариях тестирования может потребоваться настройка планов листинга, которые предлагают бесплатные пробные версии и возможность переключаться между бесплатными и платными подписками. Так как понижение уровня и отмена вступают в силу только после следующего цикла выставления счетов, GitHub предоставляет функцию только для разработчиков "Применить ожидающие обработки изменения" для принудительного выполнения действий планирования `changed` и `cancelled`, чтобы они вступали в силу сразу. Вы можете получить доступ к функции **Применить ожидающие обработки изменения** для приложений с _черновиками_ листингов Marketplace в https://github.com/settings/billing#pending-cycle:

![Применение ожидающих обработки изменений](/assets/images/github-apps/github-apps-apply-pending-changes.png)

## Тестирование API

Для большинства конечных точек API {% data variables.product.prodname_marketplace %} мы также предоставляем конечные точки API с заглушками, которые возвращают жестко закодированные фиктивные данные, которые можно использовать для тестирования. Чтобы получить данные с заглушкой, необходимо указать URL-адреса с заглушкой, которые включают `/stubbed` в маршрут (например, `/user/marketplace_purchases/stubbed`). Список конечных точек, поддерживающих эту методику с использованием данных с заглушками, см. в разделе [Конечные точки {% data variables.product.prodname_marketplace %}](/rest/reference/apps#github-marketplace).

## Тестирование веб-перехватчиков

GitHub предоставляет средства для тестирования развернутых полезных данных. См. дополнительные сведения в разделе [Тестирование веб-перехватчиков](/webhooks/testing/).
