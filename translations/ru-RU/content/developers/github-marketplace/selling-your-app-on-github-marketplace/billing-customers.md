---
title: Клиенты для выставления счетов
intro: 'Приложения в {% data variables.product.prodname_marketplace %} должны соответствовать рекомендациям по выставлению счетов GitHub и поддерживать рекомендованные службы. Следуя нашим рекомендациям, клиенты могут осуществлять навигацию по процессу выставления счетов без каких-либо непредвиденных результатов.'
redirect_from:
  - /apps/marketplace/administering-listing-plans-and-user-accounts/billing-customers-in-github-marketplace
  - /apps/marketplace/selling-your-app/billing-customers-in-github-marketplace
  - /marketplace/selling-your-app/billing-customers-in-github-marketplace
  - /developers/github-marketplace/billing-customers
versions:
  fpt: '*'
  ghec: '*'
topics:
  - Marketplace
ms.openlocfilehash: 86f012c4a74d010ddaed9ec495ae2f5d8a8dd9eb
ms.sourcegitcommit: fb047f9450b41b24afc43d9512a5db2a2b750a2a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2022
ms.locfileid: '145089645'
---
## Общие сведения о периоде выставления счетов

Клиенты могут выбрать ежемесячный или годовой период выставления счетов при покупке приложения. Все изменения, внесенные клиентами в период выставления счетов и выбор плана, активируют событие `marketplace_purchase`. Вы можете обратиться к полезным данным веб-перехватчика `marketplace_purchase`, чтобы узнать, какой период выставления счетов выбирает клиент и когда начинается следующая дата выставления счетов (`effective_date`). Дополнительные сведения о полезных данных веб-перехватчика см. в статье [События веб-перехватчика для API {% data variables.product.prodname_marketplace %}](/developers/github-marketplace/webhook-events-for-the-github-marketplace-api).

## Предоставление услуг по выставлению счетов в пользовательском интерфейсе приложения

Клиенты должны иметь возможность выполнять следующие действия на веб-сайте приложения:
- Клиенты должны иметь возможность изменять или отменять свои планы {% data variables.product.prodname_marketplace %} для личных и организационных учетных записей отдельно.
{% data reusables.marketplace.marketplace-billing-ui-requirements %}

## Службы выставления счетов для обновлений, перехода на использование более ранних версий и отмен

Следуйте этим рекомендациям по обновлению, переходу на использование более ранних версий и отменам, чтобы обеспечить четкий и согласованный процесс выставления счетов. Более подробные инструкции о событиях покупки {% data variables.product.prodname_marketplace %} см. в статье [Использование API {% data variables.product.prodname_marketplace %} в приложении](/developers/github-marketplace/using-the-github-marketplace-api-in-your-app).

Вы можете использовать ключ `effective_date` веб-перехватчика `marketplace_purchase`, чтобы определить, когда произойдет изменение плана, и периодически синхронизировать [Список учетных записей для плана](/rest/reference/apps#list-accounts-for-a-plan).

### Обновления

Когда клиент обновляет свой тарифный план или меняет период выставления счетов с ежемесячного на годовой, вы должны немедленно применить это изменение. Необходимо применить пропорциональную скидку к новому плану и изменить период выставления счетов.

{% data reusables.marketplace.marketplace-failed-purchase-event %}

Сведения о создании рабочих процессов обновления и перехода на использование более ранних версий в приложении см. в статье [Обработка изменений плана](/developers/github-marketplace/handling-plan-changes).

### Переход на использование более ранних версий и отмены

Переход на использование более ранних версий происходит, когда клиент переходит на бесплатный план из платного, выбирает план с более низкой стоимостью, нежели текущий, или изменяет свой период выставления счетов с ежегодного на ежемесячный. Если происходит переход на использование более ранней версии или отмены, вам не возмещать средства. Вместо этого текущий план будет оставаться активным до последнего дня текущего периода выставления счетов. Событие `marketplace_purchase` будет отправлено, когда новый план вступит в силу в начале следующего периода выставления счетов клиента.

Когда клиент отменяет план, необходимо:
- Автоматически перевести клиента на использованием бесплатного плана, если он существует.
  
  {% data reusables.marketplace.cancellation-clarification %}
- Разрешить клиенту обновить план через GitHub, если он захочет позже продлить его.

Сведения о создании рабочих процессов отмены в приложении см. в статье [Обработка отмен плана](/developers/github-marketplace/handling-plan-cancellations).
