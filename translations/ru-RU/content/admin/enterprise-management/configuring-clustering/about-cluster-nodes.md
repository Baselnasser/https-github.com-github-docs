---
title: Сведения об узлах кластера
intro: '*Узлы* — это экземпляры {% data variables.product.prodname_ghe_server %}, которые работают в кластере. Каждый узел запускает набор служб, предоставляемых кластеру, и в конечном счете пользователям.'
redirect_from:
  - /enterprise/admin/clustering/about-cluster-nodes
  - /enterprise/admin/enterprise-management/about-cluster-nodes
  - /admin/enterprise-management/about-cluster-nodes
versions:
  ghes: '*'
type: overview
topics:
  - Clustering
  - Enterprise
ms.openlocfilehash: 6c009e5d5aa1c2f0b2d3effb3beab2d51f48b070
ms.sourcegitcommit: ced661bdffebd0f96f6f76db109fbe31983448ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2022
ms.locfileid: '148167081'
---
{% data reusables.enterprise_clustering.clustering-requires-https %}

## Минимальные рекомендации по оборудованию
Каждый узел должен иметь корневой том, а также отдельный том данных. Ниже приведены минимальные рекомендации. В зависимости от шаблона использования может потребоваться больше ресурсов, таких как активность пользователей и выбранные интеграции.

| Службы | Минимальные требования к памяти    | Минимальные требования к свободному месту на диске |
| :-: | :-: | :-: |
| `job-server`,<br/>`memcache-server`,<br/>`web-server` | 14 ГБ | 1 ГБ |
| `consul-server`,<br/>`mysql-server`,<br/>`redis-server` | 14 ГБ | 10 ГБ |
| `git-server`,<br/>`metrics-server`,<br/>`pages-server`,<br/>`storage-server` | 14 ГБ | 10 ГБ |
| `elasticsearch-server` | 14 ГБ | 10 ГБ |

## Службы, необходимые для кластеризации
Для обеспечения адекватной избыточности используйте эти минимальные узлы, на которых запущена каждая из служб.

{% tip %}

**Примечание.** Потребности вашей организации в масштабируемости зависят от многих факторов, включая размер и количество репозиториев, число пользователей и общий объем использования.

{% endtip %}

| Службы | Минимальное необходимое количество узлов |
| :-: | :-: |
| `job-server`,<br/>`memcache-server`,<br/>`metrics-server`,<br/>`web-server` | 2 |
| `mysql-server`,<br/>`redis-server` | 2 |
| `consul-server` | 3 |
| `git-server`,<br/>`pages-server`,<br/>`storage-server` | 3 |
| `elasticsearch-server` | 3 |

## Рекомендации по проектированию кластеров

Кластеризация позволяет службам, составляющим {% data variables.product.prodname_ghe_server %}, масштабироваться независимо друг от друга. Такие гибкие возможности можно использовать для проектирования и реализации кластера, который соответствует требованиям к масштабированию для различных организаций. Например, некоторым организациям может потребоваться больше пропускной способности хранилища для крупных или регулярных выборок, однако объем потребления ресурсов веб-сервера может быть относительно низким. В другой организации может быть высокая производительность при меньшем объеме ресурсов хранилища, однако требуется много узлов, где запущен `pages-server` или `elasticsearch-server`. Возможно множество различных комбинаций. Обратитесь к своему менеджеру по работе с клиентами, чтобы определить оптимальную конфигурацию кластера для конкретных потребностей.

- Распределите избыточные узлы по различным независимым единицам оборудования. При совместном использовании ресурсов ЦП, памяти или устройств хранения снижается производительность и добавляются отдельные точки отказа. Общие сетевые компоненты также могут снижать пропускную способность и повышать риск потери соединения в случае сбоя.
- Используйте быстрое хранение. Сети хранения данных (SAN) зачастую оптимизированы для максимального потребления ресурсов пространства, доступности и отказоустойчивости, а не для абсолютной пропускной способности. Кластеризация {% data variables.product.prodname_ghe_server %} обеспечивает избыточность и доступность и оптимальную производительность при использовании максимально быстрого хранилища. Рекомендуется использовать локальное хранилище SSD.
- Установите уровни узлов, которые подходят для вашей организации. Пример конфигурации:
  - Уровень интерфейса с двумя узлами и следующими службами:
    - `web-server`
    - `job-server`
    - `memcache-server`
  - Уровень базы данных с тремя узлами и следующими службами:
    - `consul-server`
    - `mysql-server`
    - `redis-server`
  - Уровень поиска с тремя узлами и следующей службой:
    - `elasticsearch-server`
  - Уровень хранилища с тремя узлами и следующими службами:
    - `git-server`
    - `pages-server`
    - `storage-server`
    - `metrics-server`

### Пример схемы кластера
{% note %}

**Примечание. Это только пример.** Оптимальная конфигурация кластера для вашей организации зависит от ваших уникальных потребностей. Обратитесь к назначенному вам торговому представителю или {% data variables.contact.contact_enterprise_sales %}, чтобы получить помощь в определении оптимальной конфигурации кластера.

{% endnote %}

<img src="/assets/images/enterprise/cluster/cluster-diagram.png" alt="Example Cluster" style="width: 800px;border:0"/>
