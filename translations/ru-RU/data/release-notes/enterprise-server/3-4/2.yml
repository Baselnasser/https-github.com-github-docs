date: '20.04.2022'
sections:
  security_fixes:
    - В пакетах обновлены системы безопасности до последних версий. 
  bugs:
    - "Устранена регрессия, которая могла приводить к постоянным сбоям при получении артефактов и загрузке архивов журналов для {% data variables.product.prodname_actions %}. В некоторых случаях мы перестали разрешать URL-адреса для внутренних соединений, в которых использовался localhost, но вместо этого неверно применялось имя узла экземпляра." 
    - "При удалении файла манифеста из репозитория манифест не удалялся со страницы \"Граф зависимостей\" репозитория." 
    - "Обновление узлов в паре с высокой доступностью и с помощью пакета обновления в некоторых случаях могло привести к тому, что Elasticsearch переходил в несогласованное состояние." 
    - "Измененные файлы журналов с расширением .backup будут храниться в каталогах, содержащих системные журналы."
    - В некоторых топологиях кластеров не запускались служебные программы командной строки ghe-spokesctl и ghe-btop.
    - Индексы Elasticsearch могли дублироваться во время обновления пакета из-за многократного параллельного запуска службы elasticsearch-upgrade. 
    - "Серверы кэша репозитория могли обслуживать данные не из кэша, даже если эти данные были доступны в локальном кэше."
    - "При преобразовании учетной записи пользователя в организацию, если учетная запись пользователя являлась владельцем корпоративной учетной записи {% data variables.product.prodname_ghe_server %}, преобразованная организация некорректно отображалась в списке владельцев предприятия." 
    - "Страница /stafftools/users/ip_addresses/:address выдала ответ \"500 —внутренняя ошибка сервера\" при попытке отобразить страницу для IPv6-адреса." 
    - "Создание токена OAuth для олицетворения с помощью REST API администрирования предприятия приводило к ошибке, если интеграция, соответствующая идентификатору приложения OAuth, уже существовала." 
 
  changes:
    - "Добавлена поддержка доменных имен реплик, состоящих более чем из 63 символов." 
    - "Ошибки конфигурации, останавливающие выполнение config apply, теперь выводятся на терминал в дополнение к журналу конфигурации." 
    - "Если на вашем экземпляре включены возможности {% data variables.product.prodname_GH_advanced_security %}, вы заметите улучшение производительности фоновых заданий при обработке пакетов для вкладов в репозиторий."

  known_issues:
    - "Злоумышленник мог создать первого пользователя с правами администратора на только что настроенном экземпляре {% data variables.product.prodname_ghe_server %} без пользователей."
    - Настраиваемые правила брандмауэра удаляются в процессе обновления.
    - "Отслеживаемые файлы Git LFS, [отправленные через веб-интерфейс](https://github.com/blog/2105-upload-files-to-your-repositories), ошибочно добавлялись напрямую в репозиторий."
    - "Проблемы нельзя закрыть, если они содержат постоянную ссылку на большой двоичный объект в том же репозитории, где путь к файлу большого двоичного объекта превышает 255 символов."
    - "Когда параметр Users can search GitHub.com (Пользователи могут выполнять поиск на GitHub.com) включен с {% data variables.product.prodname_github_connect %}, проблемы в частных и внутренних репозиториях не включаются в результаты поиска в {% data variables.product.prodname_dotcom_the_website %}."
    - "Реестр npm {% data variables.product.prodname_registry %} больше не возвращает значение времени в ответах метаданных. Это изменение позволяет существенно улучшить производительность. Мы продолжим хранить все данные, необходимые для возврата значения времени в качестве части ответа метаданных, и возобновим возврат этого значения в будущем, как только решим существующие проблемы с производительностью."
    - "Ограничения ресурсов, относящиеся к обработке перехватчиков перед получением, могут приводить к сбою некоторых из них."
    - |После регистрации с использованием параметра --ephemeral на нескольких уровнях (например, для предприятия и организации) локальное средство выполнения тестов может зависнуть в состоянии бездействия и тогда его потребуется повторно зарегистрировать. [Обновлено: 17.06.2022]

|
    - "После обновления до {% data variables.product.prodname_ghe_server %} 3.4 в репозиториях могут не указываться выпуски. Это может произойти, если необходимые миграции индексов Elasticsearch не были успешно завершены."
    - '{% data reusables.release-notes.ghas-3.4-secret-scanning-known-issue %}'
  deprecations:
    - heading: Прекращение поддержки GitHub Enterprise Server 3.0
      notes:
        - '**Поддержка {% data variables.product.prodname_ghe_server %} 3.0 прекращена 16 февраля 2022 г.**. Это значит, что после этой даты исправления не будут выпускаться даже для устранения критических проблем безопасности. Чтобы улучшить производительность, безопасность и получить новые возможности, как можно быстрее [выполните обновлении до самой последней версии {% data variables.product.prodname_ghe_server %}](/enterprise-server@3.4/admin/enterprise-management/upgrading-github-enterprise-server).'
    - heading: Прекращение поддержки GitHub Enterprise Server 3.1
      notes:
        - '**Поддержка {% data variables.product.prodname_ghe_server %} 3.1 прекращена 3 июня 2022 г.**. Это значит, что после этой даты исправления не будут выпускаться даже для устранения критических проблем безопасности. Чтобы улучшить производительность, безопасность и получить новые возможности, как можно быстрее [выполните обновлении до самой последней версии {% data variables.product.prodname_ghe_server %}](/enterprise-server@3.4/admin/enterprise-management/upgrading-github-enterprise-server).'

    - heading: Прекращение поддержки гипервизора XenServer
      notes:
        # https://github.com/github/docs-content/issues/4439
        - "Начиная с {% data variables.product.prodname_ghe_server %} 3.3, прекращена поддержка {% data variables.product.prodname_ghe_server %} в XenServer. Обратитесь в [службу поддержки GitHub](https://support.github.com), если у вас есть вопросы или замечания."

    - heading: Прекращение поддержки предварительной версии API вложений содержимого
      notes:
        #
        - "Ввиду низкого уровня использования прекращена поддержка предварительной версии API вложений содержимого в {% data variables.product.prodname_ghe_server %} 3.4. Ранее этот API был доступен по заголовку \"corsair-preview\". Пользователи могут и далее переходить по внешним URL-адресам и без этого API. Зарегистрированные использования API вложений содержимого больше не будут получать оповещение от веб-перехватчика для URL-адресов из зарегистрированных доменов, а мы больше не будем возвращать допустимые коды откликов для попыток выполнить обновления существующих вложений содержимого."

    - heading: Прекращение поддержки предварительной версии API правил поведения
      notes:
        # https://github.com/github/releases/issues/1708
        - 'Поддержка предварительной версии API правил поведения, которая была доступна по заголовку "scarlet-witch-preview", прекращена и она больше не доступна в {% data variables.product.prodname_ghe_server %} 3.4. Вместо этого мы рекомендуем использовать конечную точку "[Получение метрик профиля сообщества](/rest/reference/repos#get-community-profile-metrics)" для извлечения сведений о коде правилах поведения репозитория. Дополнительные сведения см. в статье "[Уведомление о прекращении поддержки: предварительная версия API правил поведения](https://github.blog/changelog/2021-10-06-deprecation-notice-codes-of-conduct-api-preview/)" в журнале изменений {% data variables.product.prodname_dotcom %}.'

    - heading: Прекращение поддержки конечных точек API приложения OAuth и проверки подлинности API с использованием параметров запроса
      notes:
        # https://github.com/github/releases/issues/1316
        - |Начиная с {% data variables.product.prodname_ghe_server %} 3.4, [нерекомендуемая версия конечных точек API приложения OAuth Application API](https://developer.github.com/changes/2020-02-14-deprecating-oauth-app-endpoint/#endpoints-affected) удалена. В случае возникновения в этих частных точках сообщений об ошибке 404 преобразуйте ваш код в версии API приложения OAuth, в URL-адресе которой нет "access_tokens". Мы также отключили использование проверки подлинности API с помощью параметров запроса. Вместо этого рекомендуем использовать [проверку подлинности API в заголовке запроса](https://developer.github.com/changes/2020-02-10-deprecating-auth-through-query-param/#changes-to-make).

|
    - heading: Прекращение поддержки средства выполнения тестов CodeQL
      notes:
        # https://github.com/github/releases/issues/1632
        - "Средство выполнения тестов {% data variables.product.prodname_codeql %} больше не поддерживается в {% data variables.product.prodname_ghe_server %} 3.4. Прекращение поддержки касается только тех пользователей, которые используют сканирование кода {% data variables.product.prodname_codeql %} в сторонних системах непрерывной поставки и непрерывной интеграции. Это не относится к пользователям {% data variables.product.prodname_actions %}. Мы настоятельно рекомендуем клиентам перейти на CLI {% data variables.product.prodname_codeql %}, возможности которого полностью заменяют средство выполнения тестов {% data variables.product.prodname_codeql %}. Дополнительные сведения см. в статье [{% data variables.product.prodname_dotcom %} changelog](https://github.blog/changelog/2021-09-21-codeql-runner-deprecation/)."

    - heading: Прекращение поддержки пользовательских расширений кэша битов
      notes:
        # https://github.com/github/releases/issues/1415
        - |Начиная с {% data variables.product.prodname_ghe_server %} 3.1, постепенно прекращается поддержка защищаемых расширений кэша битов {% data variables.product.company_short %}. Эти расширения являются устаревшими в {% data variables.product.prodname_ghe_server %} 3.3 и более поздних версий.



Все репозитории, которые уже существовали и были активны в {% data variables.product.product_location %} версии 3.1 или  3.2 будут автоматически обновлены.



Репозитории, которые еще не существовали и не были активны до обновления до {% data variables.product.prodname_ghe_server %} 3.3 могут не демонстрировать оптимальную производительность, пока задача обслуживания репозитория не будет запущено и успешно выполнено.



Чтобы запустить задачу обслуживания репозитория вручную, перейдите по адресу https://<hostname>/stafftools/repositories/<owner>/<repository>/network для каждого затронутого репозитория и нажмите кнопку "Запланировать".

|
    - heading: Средство выбора тем для страниц GitHub удалено
      notes:
        - |Средство выбора темы для страниц GitHub было удалено из настроек страниц. Дополнительные сведения о настройке тем для GitHub Pages см. в статье "[Добавление темы на сайт GitHub Pages с помощью Jekyll](/pages/setting-up-a-github-pages-site-with-jekyll/adding-a-theme-to-your-github-pages-site-using-jekyll)".

|
  backups:
    - 'Для {% data variables.product.prodname_ghe_server %} 3.4 требуется по крайней мере [техническое оборудование для резервного копирования GitHub Enterprise версии 3.4.0](https://github.com/github/backup-utils) для [резервного копирования и аварийного восстановления](/admin/configuration/configuring-your-enterprise/configuring-backups-on-your-appliance).'
