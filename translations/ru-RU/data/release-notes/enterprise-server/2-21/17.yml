date: '23.03.2021'
intro: "Из-за серьезной ошибки, затрагивающей множество пользователей, были отключены загрузки. Это будет устранено в следующем исправлении."
sections:
  security_fixes:
    - '**ВЫСОКИЙ.** В GitHub Enterprise Server выявлена уязвимость, связанная с удаленным выполнением кода, которую можно использовать при создании сайта GitHub Pages. Доступные пользователю параметры конфигурации, используемые GitHub Pages, не имели достаточных ограничений, позволяя переопределять переменные сред и выполнять код в экземпляре GitHub Enterprise Server. Чтобы эксплуатировать уязвимость, злоумышленнику требуется разрешение для создания и построения сайта GitHub Pages в экземпляре GitHub Enterprise Server. Эта уязвимость затрагивала все версии GitHub Enterprise Server до 3.0.3. Она устранена в версиях 3.0.3, 2.22.9 и 2.21.17. Уязвимость стала известной в рамках программы GitHub Bug Bounty и получила номер CVE-2021-22864.'
    - В пакетах обновлены системы безопасности до последних версий.
  bugs:
    - "Выполнение \"ghe-cluster-config-init\" не полностью учитывало код завершения фоновых заданий, из-за чего неверно обрабатывались предварительные проверки."
  changes:
    - "Ротация журналов будет выполняться не только по времени, но и по размеру."
    - "Для Consul и Nomad используется относительное число bootstrap_expect, что обеспечивает начальную загрузку кластера, даже когда многие узлы не работают."
  known_issues:
    - "Злоумышленник мог создать первого пользователя с правами администратора на новом, только что настроенном сервере, не имеющем пользователей."
    - Пользовательские правила брандмауэра не сохраняются в процессе обновления.
    - "Отслеживаемые файлы Git LFS, [отправленные через веб-интерфейс](https://github.com/blog/2105-upload-files-to-your-repositories), ошибочно добавлялись напрямую в репозиторий."
    - "Проблемы нельзя закрыть, если они содержат постоянную ссылку на большой двоичный объект в том же репозитории, где путь файла содержит более 255 символов."
    - "Когда в GitHub Connect включен параметр Users can search GitHub.com (Пользователи могут выполнять поиск на GitHub.com), результаты поиска на GitHub.com не включают в себя проблемы в частных и внутренних репозиториях."
    - Оповещения безопасности не включаются в отчет при передаче в репозитории посредством командной строки.
    - |Ротация журналов может не сообщить службам о необходимости перехода на новые файлы журналов. Из-за этого продолжают использоваться старые и со временем исчерпывается место на корневом диске.

Для устранения и предотвращения этой проблемы выполните в [оболочке администрирования](https://docs.github.com/en/enterprise-server/admin/configuration/accessing-the-administrative-shell-ssh) (SSH) следующие команды или обратитесь за помощью в [службу поддержки GitHub Enterprise](https://support.github.com/contact):



```

printf "PATH=/usr/local/sbin:/usr/local/bin:/usr/local/share/enterprise:/usr/sbin:/usr/bin:/sbin:/bin\n29,59 * * * * root /usr/sbin/logrotate /etc/logrotate.conf\n" | sudo sponge /etc/cron.d/logrotate

sudo /usr/sbin/logrotate -f /etc/logrotate.conf

```

|
    - "Когда узел реплики в конфигурации с высокой доступностью отключен, {% data variables.product.product_name %} все равно может маршрутизировать на него запросы {% data variables.product.prodname_pages %}, уменьшая доступность {% data variables.product.prodname_pages %} для пользователей."
