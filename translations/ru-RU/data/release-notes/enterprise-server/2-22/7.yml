date: '02.03.2021'
sections:
  security_fixes:
    - '**ВЫСОКИЙ.** Уязвимость, связанная с ненадлежащим контролем доступа, выявлена в GitHub Enterprise Server. Уязвимость позволяла не прошедшим проверку подлинности пользователям экземпляра получить доступ для записи в неавторизованные репозитории посредством специально созданных запросов на вытягивание и запросов REST API. Злоумышленнику требуется возможность создать вилку в целевом репозитории (этот параметр по умолчанию отключен для частных репозиториев, принадлежащих организации). Защита ветвей (например, обязательные проверки запросов на вытягивание или проверки статусов) предотвращают объединение несанкционированных фиксаций без дальнейшей проверки или валидации. Этой уязвимости присвоен код CVE-2021-22861. Об этой сообщено посредством [программы GitHub Bug Bounty Program](https://bounty.github.com).'
    - '**ВЫСОКИЙ.** Уязвимость, связанная с ненадлежащим контролем доступа, выявлена в API GraphQL GitHub Enterprise Server. Уязвимость позволяла не прошедшим проверку подлинности пользователям экземпляра без надлежащей авторизации изменять разрешение ответственного за обслуживание для совместной работы с запросом на вытягивания. Эксплуатируя эту уязвимость, злоумышленник может получить доступ к главным ветвям запросов на вытягивание, открытых в репозиториях, в отношении которых они являются ответственными за обслуживание. Создание вилок по умолчанию отключено для частных репозиториев, принадлежащих организации, чтобы предотвратить появление такой уязвимости. Кроме того, защита ветвей (например, обязательные проверки и запросов на вытягивание или проверки статусов) предотвращают объединение несанкционированных фиксаций без дальнейшей проверки или валидации. Этой уязвимости присвоен код CVE-2021-22863. Об этой сообщено посредством [программы GitHub Bug Bounty Program](https://bounty.github.com).'
    - '**ВЫСОКИЙ.** В GitHub Enterprise Server выявлена уязвимость, связанная с удаленным выполнением кода, которую можно использовать при создании сайта GitHub Pages. Управляемая пользователем базовых средств синтаксического анализа, используемых GitHub Pages, не имела достаточных ограничений и позволяла выполнять команды в экземпляре GitHub Enterprise. Чтобы эксплуатировать уязвимость, злоумышленнику требуется разрешение для создания и построения сайта GitHub Pages в экземпляре GitHub Enterprise Server. Этой уязвимости назначена CVE-2020-10519, и о ней сообщено посредством [программы GitHub Bug Bounty Program](https://bounty.github.com).'
    - '**СРЕДНИЙ.** Маркеры GitHub из сборок GitHub Pages могут быть добавлены в журналы.'
    - '**НИЗКИЙ.** Специально созданный запрос к мосту SVN может запускать продолжительное ожидание перед сбоем, что приводит к отказу в обслуживании (DoS).'
    - 'Пакеты обновлены до последних версий систем безопасности.'
  bugs:
    - 'Проверки работоспособности подсистемы балансировки нагрузки в отдельных случаях могут вызвать заполнение журналов babeId ошибками протокола PROXY.'
    - 'Информационное сообщение непреднамеренно внесено в журнал как ошибка в ходе создания моментальных снимков утилит резервного копирования GitHub Enterprise. Это привело к отправке ненужных сообщений при планировании резервных копий заданиями cron, которые прослушивают выходные данные на предмет обнаружения stderr.'
    - 'При восстановлении из больших резервных копий ведение журнала исключений, относящихся к памяти Redis, может стать причиной сбоя операции восстановления из-за переполнения диска.'
    - 'Если при первой настройке нового экземпляра выбрана команда "Настроить как реплику", вы не сможете запустить репликацию.'
    - 'Если GitHub Actions включен, отключение режима обслуживания в консоли управления завершается ошибкой.'
    - 'При редактировании вики-страницы пользователь может видеть ошибку 500 в момент нажатия на кнопку "Сохранить".'
    - 'Подписанная фиксация S/MIME, использующая сертификат с несколькими именами в альтернативном имени субъекта некорректно отображает статус "Не проверено" в индикаторе событий фиксации.'
    - 'Пользователю, права которого приостановлены, отправляются сообщения электронной почты при добавлении в команду.'
    - 'Пользователь видит ошибку 500 при выполнении операций git в экземпляре, настроенном с использованием проверки подлинности LDAP.'
    - 'Фоновое задание `remove_org_member_package_access` отображается в консоли управления и постоянно увеличивается.'
    - 'Если в репозитории слишком большое число манифестов, отображается ошибка `Достигнуто максимальное число разрешенных файлов манифеста (20) для этого репозитория.` на вкладке "Аналитика" -> "Граф зависимостей". Дополнительные сведения см. в разделе [Ограничения по визуализации](https://docs.github.com/en/github/managing-security-vulnerabilities/troubleshooting-the-detection-of-vulnerable-dependencies#are-there-limits-which-affect-the-dependency-graph-data).'
    - 'При отправке нового файла лицензии с другим количеством рабочих мест из предыдущего файла лицензии, разница в числе рабочих мест некорректно указана на странице "Параметры" -> "Лицензия" корпоративной учетной записи.'
    - 'Флажок "Запретить администраторам репозитория изменять анонимный доступ для чтения к Git", доступный в разделе параметров корпоративной учетной записи, не удается установить или снять.'
    - 'Если сборка GitHub Pages завершается сбоем, уведомление по электронной почте содержит некорректную ссылку на расположение службы поддержки.'
    - 'В високосный год пользователь получает отклик с ошибкой 404 при попытке просмотреть действие "Вклад" в понедельник.'
  changes:
    - 'Добавлена поддержка [типов экземпляров AWS EC2 r5b](https://aws.amazon.com/about-aws/whats-new/2020/12/introducing-new-amazon-ec2-r5b-instances-featuring-60-gbps-of-ebs-bandwidth-and-260K-iops/).'
    - 'Измененная приоритезация очереди фоновых заданий обеспечивает более равномерное распределение заданий.'
  known_issues:
    - 'Злоумышленник мог создать первого пользователя с правами администратора на новом, только что настроенном сервере, не имеющем пользователей.'
    - 'Пользовательские правила брандмауэра не сохраняются в процессе обновления.'
    - 'Отслеживаемые файлы Git LFS, [отправленные через веб-интерфейс](https://github.com/blog/2105-upload-files-to-your-repositories), ошибочно добавлялись напрямую в репозиторий.'
    - 'Проблемы нельзя закрыть, если они содержат постоянную ссылку на большой двоичный объект в том же репозитории, где путь файла содержит более 255 символов.'
    - 'Когда в GitHub Connect включен параметр "Пользователи могут выполнять поиск на GitHub.com", результаты поиска на GitHub.com не включают проблемы в частных и внутренних репозиториях.'
    - |Пользователи могут столкнуться с тем, что такие активы как avatars не загружаются или возникает ошибка кода передачи/вытягивания. Это может быть вызвано несоответствием PID в службе `haproxy-cluster-proxy`. Чтобы определить, затронуты ли ваши экземпляры, выполните следующие действия:



**Один экземпляр**



1. Выполните этот код в [administrative shell](https://docs.github.com/en/enterprise-server/admin/configuration/accessing-the-administrative-shell-ssh) (SSH):



  ```

  if [ $(cat /var/run/haproxy-cluster-proxy.pid) -ne $(systemctl show --property MainPID --value haproxy-cluster-proxy) ]; then echo ''Main PID of haproxy-cluster-proxy does not match /var/run/haproxy-cluster-proxy.pid''; fi

  ```



2. Если показано, что существует несоответствие, перезагрузите экземпляр.



**Настройка кластера или высокого уровня доступности**



1. Выполните этот код в [administrative shell](https://docs.github.com/en/enterprise-server/admin/configuration/accessing-the-administrative-shell-ssh) (SSH):



  ```

  ghe-cluster-each -- ''if [ $(cat /var/run/haproxy-cluster-proxy.pid) -ne $(systemctl show --property MainPID --value haproxy-cluster-proxy) ]; then echo ''Main PID of haproxy-cluster-proxy does not match /var/run/haproxy-cluster-proxy.pid''; fi''

  ```



2. Если показано, что затрагивается один или несколько узлов, перезагрузите затронутые узлы.

|
    - "Если узел реплики находится в автономном режиме в конфигурации высокой доступности, {% data variables.product.product_name %} по-прежнему может маршрутизировать запросы {% data variables.product.prodname_pages %} на узел в автономном режиме, снижая доступность {% data variables.product.prodname_pages %} для пользователей."
