date: '2021-06-03'
intro: "Дополнительные сведения см. в статье \"[Сведения о минимальных требованиях к {% data variables.product.prodname_ghe_server %} 3.0 и более поздних версий](/admin/enterprise-management/upgrading-github-enterprise-server#about-minimum-requirements-for-github-enterprise-server-30-and-later)\"."
sections:
  features:
    - heading: Сканирование секретов GitHub Advanced Security
      notes:
        - |[Сканирование секретов](https://github.com/features/security) теперь является общедоступным для {% data variables.product.prodname_ghe_server %} версии 3.1 и более поздних. Проверка общедоступных и частных репозиториев на наличие зафиксированных учетных данных, поиск секретов и отправка уведомлений поставщику секретов или администратору в момент фиксации репозитория.



В этот выпуск включено несколько улучшений из бета-версии сканирования секретов в {% data variables.product.prodname_ghe_server %}:



— Расширен [охват шаблонов](/enterprise-server@3.1/code-security/secret-security/about-secret-scanning#about-secret-scanning-for-private-repositories) от 24 партнеров до 37.

— Добавлены [API](/rest/reference/secret-scanning) и [веб-перехватчики](/developers/webhooks-and-events/webhook-events-and-payloads#secret_scanning_alert).

— Добавлены [оповещения для авторов фиксации](https://github.blog/changelog/2021-03-05-secret-scanning-notifications-for-commit-authors-on-private-repositories/), когда они выполняют фиксацию секретов.

— Обновлено представление индекса для упрощения массового рассмотрения секретов.

— Уменьшена частота ложноположительных результатов во многих шаблонах.



Администраторы, использующие {% data variables.product.prodname_GH_advanced_security %}, могут [включить и настроить] сканирование секретов (/enterprise-server@3.1/admin/configuration/configuring-secret-scanning-for-your-appliance) {% data variables.product.prodname_GH_advanced_security %}. Ознакомьтесь с [обновленными минимальными требованиями для своей платформы](/enterprise-server@3.1/admin/installation/setting-up-a-github-enterprise-server-instance) перед включением сканирования секретов {% data variables.product.prodname_GH_advanced_security %}.

|
    - heading: Улучшения выставления счетов для GitHub Advanced Security
      notes:
        - |В этот выпуск включено несколько улучшений выставления счетов {% data variables.product.prodname_GH_advanced_security %} в {% data variables.product.prodname_ghe_server %}:



— Клиенты {% data variables.product.prodname_GH_advanced_security %} теперь могут просматривать количество активных участников и оставшееся количество неиспользованных рабочих мест участников в своих организациях или на странице "Выставление счетов" учетной записи предприятия. Если в предприятии есть Advanced Security, администраторы также могут просматривать рабочие места активных участников, которые используются другими организациями внутри предприятия. Дополнительные сведения см. в статьях "[Сведения о лицензировании GitHub Advanced Security](/enterprise-server@3.1/admin/advanced-security/about-licensing-for-github-advanced-security)" и "[Просмотр данных об использовании GitHub Advanced Security](/enterprise-server@3.1/admin/advanced-security/viewing-your-github-advanced-security-usage)".

— Клиенты GitHub Advanced Security теперь могут просматривать количество активных участников для репозиториев, поддерживающих Advanced Security, в своей организации или на странице "Выставление счетов" предприятия. Эти изменения помогут администраторам выставления счетов отслеживать использование приобретенного количества лицензий участников. Дополнительные сведения см. в статье "[Управление параметрами безопасности и анализа для организации](/enterprise-server@3.1/organizations/keeping-your-organization-secure/managing-security-and-analysis-settings-for-your-organization)".

|
    - heading: Улучшения Dependabot
      notes:
        - |В этот выпуск включены улучшения, связанные с предупреждениями Dependabot в {% data variables.product.prodname_ghe_server %}:



— Пользователи, у которых включены предупреждения Dependabot, могут видеть, на какие репозитории влияет конкретная уязвимость, открыв их записи в [Базе данных рекомендаций GitHub](https://github.com/advisories). Эта функция предоставляется в общедоступной бета-версии. Дополнительные сведения см. в статье "[Просмотр и обновление уязвимых зависимостей в репозитории](/enterprise-server@3.1/code-security/supply-chain-security/viewing-and-updating-vulnerable-dependencies-in-your-repository)".

— После добавления уязвимости в Базу данных рекомендаций GitHub вы больше не будете получать [оповещения по электронной почте и веб-оповещения](https://github.com/notifications) для предупреждений Dependabot об уязвимостях низкой и средней степени серьезности. К этим предупреждениям все еще можно получить доступ на вкладке "Безопасность" репозитория. Дополнительные сведения см. в статье "[Просмотр и обновление уязвимых зависимостей в репозитории](/enterprise-server@3.1/code-security/supply-chain-security/viewing-and-updating-vulnerable-dependencies-in-your-repository)".

— Вы можете предоставить инструкции по тому, как ответственно сообщать об уязвимостях безопасности в своем проекте, добавив файл "SECURITY.md" в папку репозитория "root", "docs" или ".github". Когда кто-то создает проблему в вашем репозитории, появляется ссылка на политику безопасности вашего проекта. Дополнительные сведения см. в статье "[Добавление политики безопасности в репозиторий](/enterprise-server@3.1/code-security/getting-started/adding-a-security-policy-to-your-repository)".

|
    - heading: Визуализация рабочего процесса GitHub Actions (бета-версия)
      notes:
        - |Теперь {% data variables.product.prodname_actions %} может создать визуальный граф каждого запуска вашего рабочего процесса. Благодаря визуализации рабочего процесса можно:

— Просматривать и изучать сложные рабочие процессы.

— Отслеживать ход выполнения рабочих процессов в режиме реального времени.

— Быстро устранять неполадки с запусками за счет простого доступа к журналам и метаданным заданий.

— Отслеживать ход выполнения заданий развертывания и легко просматривать целевые объекты развертывания.



Дополнительные сведения см. в статье "[Использование графа визуализации](/actions/managing-workflow-runs/using-the-visualization-graph)".

|
    - heading: Предоставление авторизации для устройства OAuth 2.0
      notes:
        - |[Предоставление авторизации для устройства OAuth 2.0](https://github.com/login/device) позволяет клиенту CLI или инструменту разработчика выполнять проверку подлинности, используя вторичную систему с браузером.



Администраторы, использующие [приложения OAuth](/developers/apps/authorizing-oauth-apps#device-flow) и [приложения GitHub](/developers/apps/authorizing-oauth-apps#device-flow), помимо существующего потока веб-приложений, могут включать и настраивать поток авторизации устройства OAuth 2.0. Вы можете проверить [обновленные минимальные требования для своей платформы](/enterprise-server@3.1/admin/installation/setting-up-a-github-enterprise-server-instance), прежде чем включать поток авторизации устройства OAuth 2.0.

|
    - heading: Автоматическое слияние запросов на вытягивание
      notes:
        - |С помощью возможности автоматического слияния при условии выполнения всех требований можно выполнить автоматическое слияние запросов на вытягивание. Это избавляет пользователей от необходимости постоянно проверять состояния запросов на вытягивание только для того, чтобы выполнить их слияние. Возможность автоматического слияния может включить пользователь, обладающий разрешениями на слияние, для запросов на вытягивание, которые не соответствуют требованиям для слияния. Дополнительные сведения см. в статье "[Автоматическое слияние запросов на вытягивание](/enterprise-server@3.1/github/collaborating-with-issues-and-pull-requests/automatically-merging-a-pull-request)".

|
    - heading: Пользовательские уведомления
      notes:
        - |Вы можете настраивать типы оповещений, которые хотите получать от отдельных репозиториев. Дополнительные сведения см. в статье "[Настройка оповещений](/enterprise-server@3.1/github/managing-subscriptions-and-notifications-on-github/configuring-notifications#configuring-your-watch-settings-for-an-individual-repository)".

|
    - heading: Фильтрация GitHub Mobile
      notes:
        - |Фильтрация [{% data variables.product.prodname_mobile %}](https://github.com/mobile) позволяет находить проблемы, запросы на вытягивание и обсуждения на вашем устройстве. Новые метаданные для элементов списков проблем и запросов на вытягивание позволяют выполнять фильтрацию по уполномоченным, состояниям проверок и количеству комментариев.



{% data variables.product.prodname_mobile %} (бета-версия) теперь доступен для {% data variables.product.prodname_ghe_server %}. Выполните вход, используя наши приложения для [Android](https://play.google.com/store/apps/details?id=com.github.android) и [iOS](https://apps.apple.com/app/github/id1477376905), чтобы рассмотреть уведомления и управлять проблемами и запросами на вытягивание из любого места и в любое время. Администраторы могут отключить поддержку мобильных устройств для своего экземпляра Enterprise, используя для этого консоль управления или выполнив команду ghe-config app.mobile.enabled false. Дополнительные сведения см. в статье "[GitHub Mobile](/get-started/using-github/github-mobile)".

|
  changes:
    - heading: Изменения администрирования
      notes:
        - "Предварительное вычисление контрольных сумм позволяет значительно снизить период блокировки репозитория, что обеспечивает выполнение большего количества операций записи и улучшение производительности единого репозитория."
        - "Последний выпуск CodeQL CLI поддерживает отправку результатов анализа в GitHub. Это упрощает выполнение анализа кода для клиентов, которые желают использовать системы непрерывной поставки и непрерывной интеграции, отличающиеся от {% data variables.product.prodname_actions %}. Ранее таким пользователям приходилось применять отдельное средство выполнения тестов CodeQL, которое и далее будет доступно. Дополнительные сведения см. в статье \"[Сведения о сканировании кода CodeQL в системе CI](/enterprise-server@3.1/code-security/secure-coding/about-codeql-code-scanning-in-your-ci-system)\"."
        - '{% data variables.product.prodname_actions %} теперь поддерживает пропуск рабочих процессов push и pull_request путем поиска общих ключевых слов в сообщении фиксации.'
        - "Аннотации проверок, которые созданы более 4 месяцев назад, будут перемещены в архив."
        - "Изменено масштабирование распределения рабочих ролей для фоновых задач. Мы рекомендуем выполнять проверку того, подходят ли новые значения по умолчанию для вашей рабочей нагрузки. Переопределения пользовательской фоновой рабочей роли в большинстве случаев должны быть удалены. [Обновлено 18.03.2022]"

    - heading: Изменения системы безопасности
      notes:
        - "После получения отзывов отображение результатов сканирования кода в запросе на вытягивание без отправки идентификатора запроса на вытягивание будет по-прежнему поддерживаться. Дополнительные сведения см. в статье \"[Настройка сканирования кода](/enterprise-server@3.1/code-security/secure-coding/configuring-code-scanning#scanning-pull-requests)\" и \"[Настройка сканирования кода CodeQL в системе CI](/enterprise-server@3.1/code-security/secure-coding/configuring-codeql-code-scanning-in-your-ci-system#scanning-pull-requests)\"."
        - Максимальный объем одной отправки SARIF увеличен до 5000 результатов.

    - heading: Изменения разработчика
      notes:
        - "Вы можете указать несколько URL-адресов обратного вызова при настройке приложения GitHub. Они могут использоваться в службах с несколькими доменами или поддоменами. GitHub всегда будет отказывать в авторизации, если URL-адрес обратного вызова из запроса не находится в списке URL-адресов обратного вызова для авторизации."
        - "Разрешение файла приложения GitHub обновлено и теперь позволяет разработчикам указывать до 10 файлов для доступа только для чтения или для чтения и записи, к которым их приложение может запрашивать доступ."
        - "CodeQL теперь поддерживает больше [библиотек и платформ](https://codeql.github.com/docs/codeql-overview/supported-languages-and-frameworks/) для множества языков ([C++](https://github.com/github/codeql/tree/main/cpp), [JavaScript](https://github.com/github/codeql/tree/main/javascript), [Python](https://github.com/github/codeql/tree/main/python),[Java](https://github.com/github/codeql/tree/main/java), [Go](https://github.com/github/codeql-go/tree/main)). Подсистема CodeQL теперь может обнаруживать больше источников ненадежных данных пользователей, что улучшает качество и глубину предупреждений сканирования кода. Дополнительные сведения см. в статье \"[Сведения CodeQL](https://codeql.github.com/docs/codeql-overview/about-codeql/)\"."
        - "При настройке приложения GitHub URL-адрес обратного вызова для авторизации является обязательным полем. Теперь разработчикам разрешено указывать несколько URL-адресов обратного вызова. Они могут использоваться в службах с несколькими доменами или поддоменами. GitHub всегда будет отказывать в авторизации, если URL-адрес обратного вызова из запроса не находится в списке URL-адресов обратного вызова для авторизации."
        - "Полностью удалите каталог с файлами, включая подкаталоги, со своего веб-браузера. Дополнительные сведения см. в статье \"[Удаление файла или каталога](/enterprise-server@3.1/github/managing-files-in-a-repository/deleting-files-in-a-repository#deleting-a-directory)\"."
        - 'Добавьте несколько слов после знака "#" в комментарии к проблеме, обсуждению или запросу на вытягивание, чтобы сузить область поиска.'
        - 'При написании комментария к проблеме, запросу на вытягивание или обсуждению синтаксис списка для пунктов, номеров и заданий завершается автоматически после нажатия клавиши Return или Enter.'

    - heading: Изменения API
      notes:
        - "API сканирования кода позволяет пользователям отправлять данные о результатах теста безопасности статического анализа или экспортировать данные о предупреждениях. Дополнительные сведения см. по [ссылке на API сканирования кода](/rest/reference/code-scanning)."
        - "[API приложений GitHub ](/rest/reference/apps) для управления установками уже выпущен из предварительной в общедоступную версию API. Для [заголовка предварительной версии](/rest/overview/api-previews) больше не требуется доступ к этим конечным точкам."

  security_fixes:
    - '**СРЕДНИЙ**. В некоторых обстоятельствах пользователи, удаленные из команды или организации, могут сохранить доступ для записи к ветвям, для которых открыты существующие запросы на вытягивание.'
    - Пакеты обновлены до последних версий систем безопасности.

  bugs:
    - heading: Исправления для известных проблем в релиз-кандидатах
      notes:
        - "Все известные проблемы в релиз-кандидате 1 были устранены, за исключением тех, которые включены в список в разделе \"Известные проблемы\" ниже."
    - heading: Исправления для других проблем
      notes:
        - "На странице \"Настройка действий и пакетов\" начального процесса установки после нажатия кнопки \"Тестировать параметры домена\" не был завершен тест."
        - 'Выполнение ghe-btop завершилось ошибкой; не удалось найти контейнер babeld.'
        - "Если изменить параметры отработки отказа, MySQL может выполнить перезагрузку и вызвать простой."
        - После обновления несоответствие внутренних и внешних значений времени ожидания вызвало недоступность службы.
        - Из-за ожидаемых задержек репликации в MSSQL возникают предупреждения.
        - 'Неправильная ссылка на статью "[Настройка кластеризации](/admin/enterprise-management/configuring-clustering)" на консоли управления.'
        - "Во время создания или редактирования перехватчика предварительного получения состояние гонки в пользовательском интерфейсе означало, что после выбора репозитория файлы в этом репозитории иногда не были заполнены в раскрывающемся списке файлов."
        - "При добавлении IP-адреса в список разрешенных с помощью кнопки \"Создать запись списка разрешенных\" он все еще может отображаться как заблокированный."
        - "Ссылки на возможности \"Граф зависимостей\" и \"Предупреждения Dependabot\" в некоторых репозиториях не были отображены как выключенные."
        - В результате настройки объявления в параметрах учетной записи может возникнуть ошибка 500 — внутренняя ошибка сервера.
        - Вследствие неправильно настроенного hookID могла возникнуть ошибка 401 запросов HTTP POST в конечную точку /hooks.
        - Процессу build-server не удалось очистить процессы; они были оставлены в состоянии defunct.
        - 'spokesd создал лишние записи в журнале, в том числе фразу "fixing placement skipped".'
        - "Обновление Actions может завершиться ошибкой, если экземпляр не может выполнять самостоятельные запросы через настроенное имя узла."
        - "Обновление версии 2.22.x до 3.1.0.rc1 могло вызвать ошибку переноса базы данных, которая касается перехода данных BackfillIntegrationApplicationCallbackUrlsTransition."

  known_issues:
    - "Доступ к репозиторию через административную оболочку с помощью ghe-repo <owner>/<reponame> будет зависать. В качестве обходного решения используйте ghe-repo <owner>/<reponame> -c bash -i, пока исправление не будет доступно в следующей версии."
    - "Реестр npm {% data variables.product.prodname_registry %} больше не возвращает значение времени в ответах метаданных. Это сделано для того, чтобы реализовать существенные улучшения производительности. Мы продолжим хранить все данные, необходимые для возврата значения времени в качестве части ответа метаданных, и возобновим возврат этого значения в будущем, как только решим существующие проблемы с производительностью."
    - "Злоумышленник мог создать первого пользователя с правами администратора на новом, только что настроенном сервере {% data variables.product.prodname_ghe_server %}, не имеющем пользователей."
    - Пользовательские правила брандмауэра не сохраняются в процессе обновления.
    - "Отслеживаемые файлы Git LFS [отправленные через веб-интерфейс](https://github.com/blog/2105-upload-files-to-your-repositories) ошибочно добавлялись напрямую в репозиторий."
    - "Проблемы нельзя закрыть, если они содержат постоянную ссылку на BLOB-объект в том же репозитории, где путь файла содержит более 255 символов."
    - "Когда в GitHub Connect включен параметр \"Пользователи могут выполнять поиск на GitHub.com\", результаты поиска на GitHub.com не включают проблемы в частных и внутренних репозиториях."
    - "Обновление экземпляра, который ранее выполнял выпуск 2.13, а не 2.14, вызывает ошибку переноса базы данных, которая касается перехода данных AddRepositoryIdToCheckRuns."
    - |После обновления версии 3.0.x до 3.1.x в GitHub Actions иногда может возникнуть ошибка: "При выполнении этого рабочего процесса возникла непредвиденная ошибка". Чтобы решить эту проблему, подключитесь к административной оболочке (ssh) и выполните:

```

ghe-actions-console -s actions -c "Queue-ServiceJob -JobId 4DB1F4CF-19FD-40E0-A253-91288813DE8B"

```

|
    - "Если узел реплики находится в автономном режиме в конфигурации высокой доступности, {% data variables.product.product_name %} по-прежнему может маршрутизировать запросы {% data variables.product.prodname_pages %} в узел в автономном режиме, снижая доступность {% data variables.product.prodname_pages %} для пользователей."
    - "Ограничения ресурсов, относящиеся к обработке предварительно полученных перехватчиков, могут приводить к сбою некоторых из них."

  deprecations:
    - heading: Прекращение поддержки GitHub Enterprise Server 2.20
      notes:
        - '**Поддержка {% data variables.product.prodname_ghe_server %} 2.20 прекращена 2 марта 2021 г.** Это значит, что после этой даты исправления не будут выпускаться даже для устранения критических проблем безопасности. Чтобы улучшить производительность, безопасность и получить новые возможности, как можно быстрее [выполните обновление до самой последней версии {% data variables.product.prodname_ghe_server %}](/enterprise-server@3.1/admin/enterprise-management/upgrading-github-enterprise-server).'
    - heading: Прекращение поддержки GitHub Enterprise Server 2.21
      notes:
        - '**Поддержка {% data variables.product.prodname_ghe_server %} 2.21 прекращена 9 июня 2021 г.** Это значит, что после этой даты исправления не будут выпускаться даже для устранения критических проблем безопасности. Чтобы улучшить производительность, безопасность и получить новые возможности, как можно быстрее [выполните обновление до самой последней версии {% data variables.product.prodname_ghe_server %}](/enterprise-server@3.1/admin/enterprise-management/upgrading-github-enterprise-server).'
    - heading: Прекращение поддержки устаревших событий веб-перехватчика приложения GitHub
      notes:
        - 'Начиная с {% data variables.product.prodname_ghe_server %} 2.21.0, поддержка двух устаревших событий веб-перехватчика, относящихся к GitHub Apps, прекращена, и они будут удалены в {% data variables.product.prodname_ghe_server %} 3.2.0. Устаревшие события integration_installation и integration_installation_repositories содержат эквивалентные события, которые будут поддерживаться. Дополнительные сведения доступны в [записи блога с объявлением о прекращении поддержки](https://developer.github.com/changes/2020-04-15-replacing-the-installation-and-installation-repositories-events/).'
    - heading: Прекращение поддержки конечных точек GitHub Apps
      notes:
        - "Начиная с {% data variables.product.prodname_ghe_server %} 2.21.0, устаревшая конечная точка GitHub Apps для создания маркеров доступа для установки больше не поддерживается и будет удалена в {% data variables.product.prodname_ghe_server %} 3.2.0.  Дополнительные сведения доступны в [записи блога с объявлением о прекращении поддержки](https://developer.github.com/changes/2020-04-15-replacing-create-installation-access-token-endpoint/)."
    - heading: Прекращение поддержки API приложения OAuth
      notes:
        - 'GitHub больше не поддерживают конечные точки приложения OAuth, которые содержат в качестве параметра пути access_token. Мы представляем новые конечные точки, которые позволяют безопасно управлять маркерами для приложений OAuth путем перемещения access_token в текст запроса. Несмотря на прекращение поддержки, конечные точки по-прежнему доступны в этой версии. Мы планируем удалить эти конечные точки в {% data variables.product.prodname_ghe_server %} 3.4. Более подробную информацию см. в [записи блога с объявлением о прекращении поддержки](https://developer.github.com/changes/2020-02-14-deprecating-oauth-app-endpoint/).'
    - heading: Прекращение поддержки короткого SHA GitHub Actions
      notes:
        - '{% data variables.product.prodname_actions %} удалит поддержку для ссылочных действий, используя короткую версию SHA фиксации git. Это может вызвать прерывание некоторых рабочих процессов в вашем репозитории. Чтобы исправить эти рабочие процессы, необходимо обновить ссылку на действие для использования полного SHA фиксации. Дополнительные сведения см. в статье "[Усиление безопасности {% data variables.product.prodname_actions %}](/actions/learn-github-actions/security-hardening-for-github-actions#using-third-party-actions)".'
    - heading: Прекращение поддержки гипервизора XenServer
      notes:
        - "Начиная с {% data variables.product.prodname_ghe_server %} 3.1, поддержка гипервизора Xen будет прекращаться. Полное прекращение поддержки запланировано на версию {% data variables.product.prodname_ghe_server %} 3.3, которая выйдет после стандартного периода длительностью в один год."
    - heading: Изменение формата токенов проверки подлинности влияет на GitHub Connect
      notes:
        # https://github.com/github/releases/issues/1235
        - |Подключение GitHub больше не будет работать после 3 июня для экземпляров, работающих под управлением сервера GitHub Enterprise 3.1 или более ранней версии, из-за изменения формата токенов аутентификации GitHub. Чтобы продолжить использовать GitHub Connect, обновите GitHub Enterprise Server до версии 3.2 или более поздней. Дополнительные сведения см. в [блоге GitHub](https://github.blog/2022-05-20-action-needed-by-github-connect-customers-using-ghes-3-1-and-older-to-adopt-new-authentication-token-format-updates/). [Обновлено: 14.06.2022]

|
  backups:
    - 'Для {% data variables.product.prodname_ghe_server %} 3.1 требуется по крайней мере [версия 3.1.0 технического оборудования для резервного копирования GitHub Enterprise](https://github.com/github/backup-utils) для [резервного копирования и аварийного восстановления](/enterprise-server@3.1/admin/configuration/configuring-backups-on-your-appliance).'
