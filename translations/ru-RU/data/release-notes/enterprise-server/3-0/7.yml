date: '2021-05-13'
sections:
  security_fixes:
    - "**Высокая важность.** Была выявлена уязвимость, связанная с неверным представлением информации в пользовательском интерфейсе GitHub Enterprise Server. В ходе потока пользовательской авторизации в веб-интерфейсе приложения GitHub можно было предоставить больше разрешений, чем отображалось пользователю в процессе утверждения. Чтобы воспользоваться уязвимостью, злоумышленнику необходимо было создать в экземпляре приложение GitHub и авторизовать приложение у пользователя через поток проверки подлинности в веб-интерфейсе. Все предоставляемые разрешения корректно отображались при первой авторизации, но в некоторых случаях, если в приложении GitHub настроены дополнительные разрешения пользовательского уровня и пользователь вновь проходит поток авторизации, эти дополнительные разрешения могли не отображаться, и тогда пользователь мог получить больше разрешений, чем ему необходимо. Данная уязвимость затрагивала версии GitHub Enterprise Server 3.0.x вплоть до 3.0.7 и версии 2.22.x вплоть до 2.22.13. Она устранена в версиях 3.0.7 и 2.22.13. Уязвимость стала известной в рамках [программы GitHub Bug Bounty](https://bounty.github.com/) и получила номер CVE-2021-22866."
    - Пакеты обновлены до последних версий систем безопасности.
  bugs:
    - Кавычки в конфигурации хранилища Actions и Packages могли вызывать ошибки.
    - Настраиваемые перехватчики перед получением могли не работать из-за слишком жестко заданных ограничений на размер файлов или число открытых файлов.
    - Существовала возможность включения автоматической отработки отказа оркестратора на этапе применения конфигурации.
    - "На странице параметров Pages для репозитория пользователям, имеющим в нем разрешения ответственного за обслуживание, вместо сообщения об успешной сборке страницы отображалось предупреждение о необходимости проверки по электронной почте."
    - "Владелец кода в правиле с подстановочными знаками ошибочно добавлялся в список тех, к кому относится значок владельцев кода, даже когда впоследствии другое правило получало приоритет для текущего пути."
    - Документация OpenAPI ссылалась на недействительный заголовок.
    - "Когда создавался или изменялся перехватчик перед получением, в пользовательском интерфейсе возникало состояние гонки, из-за которого при выборе репозитория раскрывающийся список файлов иногда не заполнялся входящими в репозиторий файлами."
  changes:
    - Добавлено ведение журнала изменения конфигурации при перезагрузке HAProxy.
    - Добавлено ведение журнала для создания репозитория.
  known_issues:
    - "Злоумышленник мог создать первого пользователя с правами администратора на новом, только что настроенном сервере GitHub Enterprise Server, не имеющем пользователей."
    - Пользовательские правила брандмауэра не сохраняются в процессе обновления.
    - "Отслеживаемые файлы Git LFS, [отправленные через веб-интерфейс](https://github.com/blog/2105-upload-files-to-your-repositories), ошибочно добавлялись напрямую в репозиторий."
    - "Невозможно закрывать проблемы, если они содержат постоянную ссылку на BLOB-объект в том же репозитории с путем, длина которого превышает 255 символов."
    - "Когда в GitHub Connect включен параметр \"Пользователи могут выполнять поиск на GitHub.com\", результаты поиска на GitHub.com не включают проблемы в частных и внутренних репозиториях."
    - "Когда узел реплики в конфигурации с высокой доступностью отключен, {% data variables.product.product_name %} все равно может маршрутизировать на него запросы {% data variables.product.prodname_pages %}, уменьшая доступность {% data variables.product.prodname_pages %} для пользователей."
    - "Ограничения ресурсов, относящиеся к обработке перехватчиков перед получением, могут приводить к сбою некоторых из них."
