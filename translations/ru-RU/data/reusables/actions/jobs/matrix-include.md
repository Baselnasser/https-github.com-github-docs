---
ms.openlocfilehash: 58fe7bc6f3568b066453ea1e2fa5b6defc7c5048
ms.sourcegitcommit: fb047f9450b41b24afc43d9512a5db2a2b750a2a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2022
ms.locfileid: "145069581"
---
Используйте `jobs.<job_id>.strategy.matrix.include` для разворачивания существующих конфигураций матрицы или добавления новых конфигураций. Значение `include` является списком объектов.

Для каждого объекта в списке `include` пары ключ:значение в объекте будут добавлены к каждой из комбинаций матриц, если ни одна из пар ключ:значение не перезаписывает какие-либо исходные значения матрицы. Если объект не может быть добавлен в какие-либо комбинации матриц, будет создана новая. Обратите внимание, что исходные матричные значения не будут перезаписаны, но добавленные матричные значения могут быть перезаписаны.

Например, эта матрица:

```yaml
strategy:
  matrix:
    fruit: [apple, pear]
    animal: [cat, dog]
    include:
      - color: green
      - color: pink
        animal: cat
      - fruit: apple
        shape: circle
      - fruit: banana
      - fruit: banana
        animal: cat
```

приведет к шести заданиям со следующими комбинациями матриц:

- `{fruit: apple, animal: cat, color: pink, shape: circle}`
- `{fruit: apple, animal: dog, color: green, shape: circle}`
- `{fruit: pear, animal: cat, color: pink}`
- `{fruit: pear, animal: dog, color: green}`
- `{fruit: banana}`
- `{fruit: banana, animal: cat}`

следуя этой логике:

- `{color: green}` добавляется ко всем исходным комбинациям матриц, так как его можно добавить без перезаписи любой части исходных комбинаций.
- `{color: pink, animal: cat}` добавляет `color:pink` только к исходным комбинациям матриц, которые включают `animal: cat`. Это перезаписывает `color: green`, добавленный предыдущей записью `include`.
- `{fruit: apple, shape: circle}` добавляет `shape: circle` только к исходным комбинациям матриц, которые включают `fruit: apple`.
- `{fruit: banana}` невозможно добавить ни в какую исходную комбинацию матриц без перезаписи значения, поэтому он добавляется в качестве дополнительной комбинации матриц.
- `{fruit: banana, animal: cat}` невозможно добавить ни в какую исходную комбинацию матриц без перезаписи значения, поэтому он добавляется в качестве дополнительной комбинации матриц. Он не добавляется к комбинации матриц `{fruit: banana}`, так как эта комбинация не была одной из исходных комбинаций матриц.
