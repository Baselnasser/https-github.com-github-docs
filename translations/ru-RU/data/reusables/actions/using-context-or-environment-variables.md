---
ms.openlocfilehash: c8e09d66bc8f0f35ca319e3650c6913174e59067
ms.sourcegitcommit: 47bd0e48c7dba1dde49baff60bc1eddc91ab10c5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/05/2022
ms.locfileid: "145067823"
---
{% data variables.product.prodname_actions %} включает коллекцию переменных, называемых _контекстами_, и аналогичную коллекцию переменных, называемых _переменными среды по умолчанию_. Эти переменные предназначены для использования в разных точках рабочего процесса:

- **Переменные среды по умолчанию:** эти переменные существуют только в средстве выполнения тестов, которое выполняет ваше задание. Дополнительные сведения см. в разделе [Переменные среды по умолчанию](/actions/reference/environment-variables#default-environment-variables).
- **Контексты:** большинство контекстов можно использовать в любой точке вашего рабочего процесса, в том числе если _переменные среды по умолчанию_ недоступны. Например, можно использовать контексты с выражениями для выполнения начальной обработки перед маршрутизацией задания в средство выполнения тестов. Это позволяет использовать контекст с условным ключевым словом `if`, чтобы определить, следует ли выполнять шаг. После выполнения задания можно также извлечь переменные контекста из средства выполнения тестов, которое выполняет задание, например `runner.os`. Дополнительные сведения о том, где можно использовать различные контексты в рабочем процессе, см. в разделе [Доступность контекста](/actions/reference/context-and-expression-syntax-for-github-actions#context-availability).

В следующем примере показано, как эти различные типы переменных среды можно одновременно использовать в задании:

{% raw %}
```yaml
name: CI
on: push
jobs:
  prod-check:
    if: ${{ github.ref == 'refs/heads/main' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo "Deploying to production server on branch $GITHUB_REF"
```
{% endraw %}

В этом примере инструкция `if` проверяет контекст [`github.ref`](/actions/reference/context-and-expression-syntax-for-github-actions#github-context), чтобы определить имя текущей ветви; если используется имя `refs/heads/main`, то выполняются последующие шаги. Проверка `if` обрабатывается {% data variables.product.prodname_actions %}, и задание отправляется в средство выполнения тестов только в том случае, если результат равен `true`. После отправки задания в средство выполнения тестов выполняется шаг и создается ссылка на переменную среды [`$GITHUB_REF`](/actions/reference/environment-variables#default-environment-variables) из средства выполнения тестов.
